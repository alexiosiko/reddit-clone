{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import{EventEmitter,UnavailabilityError}from'expo-modules-core';import Platform from\"react-native-web/dist/exports/Platform\";import{v4 as uuidv4}from'uuid';import ExponentFileSystem from\"./ExponentFileSystem\";import{EncodingType,FileSystemSessionType,FileSystemUploadType}from\"./FileSystem.types\";if(!ExponentFileSystem){console.warn(\"No native ExponentFileSystem module found, are you sure the expo-file-system's module is linked properly?\");}var _unused=new EventEmitter(ExponentFileSystem);export{EncodingType,FileSystemSessionType,FileSystemUploadType};function normalizeEndingSlash(p){if(p!=null){return p.replace(/\\/*$/,'')+'/';}return null;}export var documentDirectory=normalizeEndingSlash(ExponentFileSystem.documentDirectory);export var cacheDirectory=normalizeEndingSlash(ExponentFileSystem.cacheDirectory);var bundledAssets=ExponentFileSystem.bundledAssets,bundleDirectory=ExponentFileSystem.bundleDirectory;export{bundledAssets,bundleDirectory};export function getInfoAsync(_x){return _getInfoAsync.apply(this,arguments);}function _getInfoAsync(){_getInfoAsync=_asyncToGenerator(function*(fileUri){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!ExponentFileSystem.getInfoAsync){throw new UnavailabilityError('expo-file-system','getInfoAsync');}return yield ExponentFileSystem.getInfoAsync(fileUri,options);});return _getInfoAsync.apply(this,arguments);}export function readAsStringAsync(_x2,_x3){return _readAsStringAsync.apply(this,arguments);}function _readAsStringAsync(){_readAsStringAsync=_asyncToGenerator(function*(fileUri,options){if(!ExponentFileSystem.readAsStringAsync){throw new UnavailabilityError('expo-file-system','readAsStringAsync');}return yield ExponentFileSystem.readAsStringAsync(fileUri,options||{});});return _readAsStringAsync.apply(this,arguments);}export function getContentUriAsync(_x4){return _getContentUriAsync.apply(this,arguments);}function _getContentUriAsync(){_getContentUriAsync=_asyncToGenerator(function*(fileUri){if(Platform.OS==='android'){if(!ExponentFileSystem.getContentUriAsync){throw new UnavailabilityError('expo-file-system','getContentUriAsync');}return yield ExponentFileSystem.getContentUriAsync(fileUri);}else{return new Promise(function(resolve,reject){resolve(fileUri);});}});return _getContentUriAsync.apply(this,arguments);}export function writeAsStringAsync(_x5,_x6){return _writeAsStringAsync.apply(this,arguments);}function _writeAsStringAsync(){_writeAsStringAsync=_asyncToGenerator(function*(fileUri,contents){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!ExponentFileSystem.writeAsStringAsync){throw new UnavailabilityError('expo-file-system','writeAsStringAsync');}return yield ExponentFileSystem.writeAsStringAsync(fileUri,contents,options);});return _writeAsStringAsync.apply(this,arguments);}export function deleteAsync(_x7){return _deleteAsync.apply(this,arguments);}function _deleteAsync(){_deleteAsync=_asyncToGenerator(function*(fileUri){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!ExponentFileSystem.deleteAsync){throw new UnavailabilityError('expo-file-system','deleteAsync');}return yield ExponentFileSystem.deleteAsync(fileUri,options);});return _deleteAsync.apply(this,arguments);}export function deleteLegacyDocumentDirectoryAndroid(){return _deleteLegacyDocumentDirectoryAndroid.apply(this,arguments);}function _deleteLegacyDocumentDirectoryAndroid(){_deleteLegacyDocumentDirectoryAndroid=_asyncToGenerator(function*(){if(Platform.OS!=='android'||documentDirectory==null){return;}var legacyDocumentDirectory=documentDirectory+\"ExperienceData/\";return yield deleteAsync(legacyDocumentDirectory,{idempotent:true});});return _deleteLegacyDocumentDirectoryAndroid.apply(this,arguments);}export function moveAsync(_x8){return _moveAsync.apply(this,arguments);}function _moveAsync(){_moveAsync=_asyncToGenerator(function*(options){if(!ExponentFileSystem.moveAsync){throw new UnavailabilityError('expo-file-system','moveAsync');}return yield ExponentFileSystem.moveAsync(options);});return _moveAsync.apply(this,arguments);}export function copyAsync(_x9){return _copyAsync.apply(this,arguments);}function _copyAsync(){_copyAsync=_asyncToGenerator(function*(options){if(!ExponentFileSystem.copyAsync){throw new UnavailabilityError('expo-file-system','copyAsync');}return yield ExponentFileSystem.copyAsync(options);});return _copyAsync.apply(this,arguments);}export function makeDirectoryAsync(_x10){return _makeDirectoryAsync.apply(this,arguments);}function _makeDirectoryAsync(){_makeDirectoryAsync=_asyncToGenerator(function*(fileUri){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!ExponentFileSystem.makeDirectoryAsync){throw new UnavailabilityError('expo-file-system','makeDirectoryAsync');}return yield ExponentFileSystem.makeDirectoryAsync(fileUri,options);});return _makeDirectoryAsync.apply(this,arguments);}export function readDirectoryAsync(_x11){return _readDirectoryAsync.apply(this,arguments);}function _readDirectoryAsync(){_readDirectoryAsync=_asyncToGenerator(function*(fileUri){if(!ExponentFileSystem.readDirectoryAsync){throw new UnavailabilityError('expo-file-system','readDirectoryAsync');}return yield ExponentFileSystem.readDirectoryAsync(fileUri,{});});return _readDirectoryAsync.apply(this,arguments);}export function getFreeDiskStorageAsync(){return _getFreeDiskStorageAsync.apply(this,arguments);}function _getFreeDiskStorageAsync(){_getFreeDiskStorageAsync=_asyncToGenerator(function*(){if(!ExponentFileSystem.getFreeDiskStorageAsync){throw new UnavailabilityError('expo-file-system','getFreeDiskStorageAsync');}return yield ExponentFileSystem.getFreeDiskStorageAsync();});return _getFreeDiskStorageAsync.apply(this,arguments);}export function getTotalDiskCapacityAsync(){return _getTotalDiskCapacityAsync.apply(this,arguments);}function _getTotalDiskCapacityAsync(){_getTotalDiskCapacityAsync=_asyncToGenerator(function*(){if(!ExponentFileSystem.getTotalDiskCapacityAsync){throw new UnavailabilityError('expo-file-system','getTotalDiskCapacityAsync');}return yield ExponentFileSystem.getTotalDiskCapacityAsync();});return _getTotalDiskCapacityAsync.apply(this,arguments);}export function downloadAsync(_x12,_x13){return _downloadAsync.apply(this,arguments);}function _downloadAsync(){_downloadAsync=_asyncToGenerator(function*(uri,fileUri){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!ExponentFileSystem.downloadAsync){throw new UnavailabilityError('expo-file-system','downloadAsync');}return yield ExponentFileSystem.downloadAsync(uri,fileUri,_objectSpread({sessionType:FileSystemSessionType.BACKGROUND},options));});return _downloadAsync.apply(this,arguments);}export function uploadAsync(_x14,_x15){return _uploadAsync.apply(this,arguments);}function _uploadAsync(){_uploadAsync=_asyncToGenerator(function*(url,fileUri){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!ExponentFileSystem.uploadAsync){throw new UnavailabilityError('expo-file-system','uploadAsync');}return yield ExponentFileSystem.uploadAsync(url,fileUri,_objectSpread(_objectSpread({sessionType:FileSystemSessionType.BACKGROUND,uploadType:FileSystemUploadType.BINARY_CONTENT},options),{},{httpMethod:(options.httpMethod||'POST').toUpperCase()}));});return _uploadAsync.apply(this,arguments);}export function createDownloadResumable(uri,fileUri,options,callback,resumeData){return new DownloadResumable(uri,fileUri,options,callback,resumeData);}export function createUploadTask(url,fileUri,options,callback){return new UploadTask(url,fileUri,options,callback);}export var FileSystemCancellableNetworkTask=function(){function FileSystemCancellableNetworkTask(){_classCallCheck(this,FileSystemCancellableNetworkTask);this._uuid=uuidv4();this.taskWasCanceled=false;this.emitter=new EventEmitter(ExponentFileSystem);}_createClass(FileSystemCancellableNetworkTask,[{key:\"cancelAsync\",value:function(){var _cancelAsync=_asyncToGenerator(function*(){if(!ExponentFileSystem.networkTaskCancelAsync){throw new UnavailabilityError('expo-file-system','networkTaskCancelAsync');}this.removeSubscription();this.taskWasCanceled=true;return yield ExponentFileSystem.networkTaskCancelAsync(this.uuid);});function cancelAsync(){return _cancelAsync.apply(this,arguments);}return cancelAsync;}()},{key:\"isTaskCancelled\",value:function isTaskCancelled(){if(this.taskWasCanceled){console.warn('This task was already canceled.');return true;}return false;}},{key:\"uuid\",get:function get(){return this._uuid;}},{key:\"addSubscription\",value:function addSubscription(){var _this=this;if(this.subscription){return;}this.subscription=this.emitter.addListener(this.getEventName(),function(event){if(event.uuid===_this.uuid){var callback=_this.getCallback();if(callback){callback(event.data);}}});}},{key:\"removeSubscription\",value:function removeSubscription(){if(!this.subscription){return;}this.emitter.removeSubscription(this.subscription);this.subscription=null;}}]);return FileSystemCancellableNetworkTask;}();export var UploadTask=function(_FileSystemCancellabl){_inherits(UploadTask,_FileSystemCancellabl);var _super=_createSuper(UploadTask);function UploadTask(url,fileUri,options,callback){var _options$httpMethod;var _this2;_classCallCheck(this,UploadTask);_this2=_super.call(this);_this2.url=url;_this2.fileUri=fileUri;_this2.callback=callback;var httpMethod=(options==null?void 0:(_options$httpMethod=options.httpMethod)==null?void 0:_options$httpMethod.toUpperCase())||'POST';_this2.options=_objectSpread(_objectSpread({sessionType:FileSystemSessionType.BACKGROUND,uploadType:FileSystemUploadType.BINARY_CONTENT},options),{},{httpMethod:httpMethod});return _this2;}_createClass(UploadTask,[{key:\"getEventName\",value:function getEventName(){return'expo-file-system.uploadProgress';}},{key:\"getCallback\",value:function getCallback(){return this.callback;}},{key:\"uploadAsync\",value:function(){var _uploadAsync2=_asyncToGenerator(function*(){if(!ExponentFileSystem.uploadTaskStartAsync){throw new UnavailabilityError('expo-file-system','uploadTaskStartAsync');}if(this.isTaskCancelled()){return;}this.addSubscription();var result=yield ExponentFileSystem.uploadTaskStartAsync(this.url,this.fileUri,this.uuid,this.options);this.removeSubscription();return result;});function uploadAsync(){return _uploadAsync2.apply(this,arguments);}return uploadAsync;}()}]);return UploadTask;}(FileSystemCancellableNetworkTask);export var DownloadResumable=function(_FileSystemCancellabl2){_inherits(DownloadResumable,_FileSystemCancellabl2);var _super2=_createSuper(DownloadResumable);function DownloadResumable(url,_fileUri){var _this3;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var callback=arguments.length>3?arguments[3]:undefined;var resumeData=arguments.length>4?arguments[4]:undefined;_classCallCheck(this,DownloadResumable);_this3=_super2.call(this);_this3.url=url;_this3._fileUri=_fileUri;_this3.options=options;_this3.callback=callback;_this3.resumeData=resumeData;return _this3;}_createClass(DownloadResumable,[{key:\"fileUri\",get:function get(){return this._fileUri;}},{key:\"getEventName\",value:function getEventName(){return'expo-file-system.downloadProgress';}},{key:\"getCallback\",value:function getCallback(){return this.callback;}},{key:\"downloadAsync\",value:function(){var _downloadAsync2=_asyncToGenerator(function*(){if(!ExponentFileSystem.downloadResumableStartAsync){throw new UnavailabilityError('expo-file-system','downloadResumableStartAsync');}if(this.isTaskCancelled()){return;}this.addSubscription();return yield ExponentFileSystem.downloadResumableStartAsync(this.url,this._fileUri,this.uuid,this.options,this.resumeData);});function downloadAsync(){return _downloadAsync2.apply(this,arguments);}return downloadAsync;}()},{key:\"pauseAsync\",value:function(){var _pauseAsync=_asyncToGenerator(function*(){if(!ExponentFileSystem.downloadResumablePauseAsync){throw new UnavailabilityError('expo-file-system','downloadResumablePauseAsync');}if(this.isTaskCancelled()){return{fileUri:this._fileUri,options:this.options,url:this.url};}var pauseResult=yield ExponentFileSystem.downloadResumablePauseAsync(this.uuid);this.removeSubscription();if(pauseResult){this.resumeData=pauseResult.resumeData;return this.savable();}else{throw new Error('Unable to generate a savable pause state');}});function pauseAsync(){return _pauseAsync.apply(this,arguments);}return pauseAsync;}()},{key:\"resumeAsync\",value:function(){var _resumeAsync=_asyncToGenerator(function*(){if(!ExponentFileSystem.downloadResumableStartAsync){throw new UnavailabilityError('expo-file-system','downloadResumableStartAsync');}if(this.isTaskCancelled()){return;}this.addSubscription();return yield ExponentFileSystem.downloadResumableStartAsync(this.url,this.fileUri,this.uuid,this.options,this.resumeData);});function resumeAsync(){return _resumeAsync.apply(this,arguments);}return resumeAsync;}()},{key:\"savable\",value:function savable(){return{url:this.url,fileUri:this.fileUri,options:this.options,resumeData:this.resumeData};}}]);return DownloadResumable;}(FileSystemCancellableNetworkTask);var baseReadAsStringAsync=readAsStringAsync;var baseWriteAsStringAsync=writeAsStringAsync;var baseDeleteAsync=deleteAsync;var baseMoveAsync=moveAsync;var baseCopyAsync=copyAsync;export var StorageAccessFramework;(function(StorageAccessFramework){function getUriForDirectoryInRoot(folderName){return\"content://com.android.externalstorage.documents/tree/primary:\"+folderName+\"/document/primary:\"+folderName;}StorageAccessFramework.getUriForDirectoryInRoot=getUriForDirectoryInRoot;function requestDirectoryPermissionsAsync(){return _requestDirectoryPermissionsAsync.apply(this,arguments);}function _requestDirectoryPermissionsAsync(){_requestDirectoryPermissionsAsync=_asyncToGenerator(function*(){var initialFileUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!ExponentFileSystem.requestDirectoryPermissionsAsync){throw new UnavailabilityError('expo-file-system','StorageAccessFramework.requestDirectoryPermissionsAsync');}return yield ExponentFileSystem.requestDirectoryPermissionsAsync(initialFileUrl);});return _requestDirectoryPermissionsAsync.apply(this,arguments);}StorageAccessFramework.requestDirectoryPermissionsAsync=requestDirectoryPermissionsAsync;function readDirectoryAsync(_x16){return _readDirectoryAsync2.apply(this,arguments);}function _readDirectoryAsync2(){_readDirectoryAsync2=_asyncToGenerator(function*(dirUri){if(!ExponentFileSystem.readSAFDirectoryAsync){throw new UnavailabilityError('expo-file-system','StorageAccessFramework.readDirectoryAsync');}return yield ExponentFileSystem.readSAFDirectoryAsync(dirUri,{});});return _readDirectoryAsync2.apply(this,arguments);}StorageAccessFramework.readDirectoryAsync=readDirectoryAsync;function makeDirectoryAsync(_x17,_x18){return _makeDirectoryAsync2.apply(this,arguments);}function _makeDirectoryAsync2(){_makeDirectoryAsync2=_asyncToGenerator(function*(parentUri,dirName){if(!ExponentFileSystem.makeSAFDirectoryAsync){throw new UnavailabilityError('expo-file-system','StorageAccessFramework.makeDirectoryAsync');}return yield ExponentFileSystem.makeSAFDirectoryAsync(parentUri,dirName);});return _makeDirectoryAsync2.apply(this,arguments);}StorageAccessFramework.makeDirectoryAsync=makeDirectoryAsync;function createFileAsync(_x19,_x20,_x21){return _createFileAsync.apply(this,arguments);}function _createFileAsync(){_createFileAsync=_asyncToGenerator(function*(parentUri,fileName,mimeType){if(!ExponentFileSystem.createSAFFileAsync){throw new UnavailabilityError('expo-file-system','StorageAccessFramework.createFileAsync');}return yield ExponentFileSystem.createSAFFileAsync(parentUri,fileName,mimeType);});return _createFileAsync.apply(this,arguments);}StorageAccessFramework.createFileAsync=createFileAsync;StorageAccessFramework.writeAsStringAsync=baseWriteAsStringAsync;StorageAccessFramework.readAsStringAsync=baseReadAsStringAsync;StorageAccessFramework.deleteAsync=baseDeleteAsync;StorageAccessFramework.moveAsync=baseMoveAsync;StorageAccessFramework.copyAsync=baseCopyAsync;})(StorageAccessFramework||(StorageAccessFramework={}));","map":{"version":3,"names":["EventEmitter","UnavailabilityError","Platform","v4","uuidv4","ExponentFileSystem","EncodingType","FileSystemSessionType","FileSystemUploadType","console","warn","_unused","normalizeEndingSlash","p","replace","documentDirectory","cacheDirectory","bundledAssets","bundleDirectory","getInfoAsync","_x","_getInfoAsync","apply","arguments","_asyncToGenerator","fileUri","options","length","undefined","readAsStringAsync","_x2","_x3","_readAsStringAsync","getContentUriAsync","_x4","_getContentUriAsync","OS","Promise","resolve","reject","writeAsStringAsync","_x5","_x6","_writeAsStringAsync","contents","deleteAsync","_x7","_deleteAsync","deleteLegacyDocumentDirectoryAndroid","_deleteLegacyDocumentDirectoryAndroid","legacyDocumentDirectory","idempotent","moveAsync","_x8","_moveAsync","copyAsync","_x9","_copyAsync","makeDirectoryAsync","_x10","_makeDirectoryAsync","readDirectoryAsync","_x11","_readDirectoryAsync","getFreeDiskStorageAsync","_getFreeDiskStorageAsync","getTotalDiskCapacityAsync","_getTotalDiskCapacityAsync","downloadAsync","_x12","_x13","_downloadAsync","uri","_objectSpread","sessionType","BACKGROUND","uploadAsync","_x14","_x15","_uploadAsync","url","uploadType","BINARY_CONTENT","httpMethod","toUpperCase","createDownloadResumable","callback","resumeData","DownloadResumable","createUploadTask","UploadTask","FileSystemCancellableNetworkTask","_classCallCheck","_uuid","taskWasCanceled","emitter","_createClass","key","value","_cancelAsync","networkTaskCancelAsync","removeSubscription","uuid","cancelAsync","isTaskCancelled","get","addSubscription","_this","subscription","addListener","getEventName","event","getCallback","data","_FileSystemCancellabl","_inherits","_super","_createSuper","_options$httpMethod","_this2","call","_uploadAsync2","uploadTaskStartAsync","result","_FileSystemCancellabl2","_super2","_fileUri","_this3","_downloadAsync2","downloadResumableStartAsync","_pauseAsync","downloadResumablePauseAsync","pauseResult","savable","Error","pauseAsync","_resumeAsync","resumeAsync","baseReadAsStringAsync","baseWriteAsStringAsync","baseDeleteAsync","baseMoveAsync","baseCopyAsync","StorageAccessFramework","getUriForDirectoryInRoot","folderName","requestDirectoryPermissionsAsync","_requestDirectoryPermissionsAsync","initialFileUrl","_x16","_readDirectoryAsync2","dirUri","readSAFDirectoryAsync","_x17","_x18","_makeDirectoryAsync2","parentUri","dirName","makeSAFDirectoryAsync","createFileAsync","_x19","_x20","_x21","_createFileAsync","fileName","mimeType","createSAFFileAsync"],"sources":["C:\\Users\\alexi\\Documents\\react-native\\reddit-clone\\node_modules\\expo-file-system\\src\\FileSystem.ts"],"sourcesContent":["import { EventEmitter, Subscription, UnavailabilityError } from 'expo-modules-core';\nimport { Platform } from 'react-native';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport ExponentFileSystem from './ExponentFileSystem';\nimport {\n  DownloadOptions,\n  DownloadPauseState,\n  DownloadProgressCallback,\n  FileSystemNetworkTaskProgressCallback,\n  DownloadProgressData,\n  UploadProgressData,\n  DownloadResult,\n  EncodingType,\n  FileInfo,\n  FileSystemAcceptedUploadHttpMethod,\n  FileSystemDownloadResult,\n  FileSystemRequestDirectoryPermissionsResult,\n  FileSystemSessionType,\n  FileSystemUploadOptions,\n  FileSystemUploadResult,\n  FileSystemUploadType,\n  ProgressEvent,\n  ReadingOptions,\n  WritingOptions,\n} from './FileSystem.types';\n\nif (!ExponentFileSystem) {\n  console.warn(\n    \"No native ExponentFileSystem module found, are you sure the expo-file-system's module is linked properly?\"\n  );\n}\n// Prevent webpack from pruning this.\nconst _unused = new EventEmitter(ExponentFileSystem); // eslint-disable-line\n\nexport {\n  DownloadOptions,\n  DownloadPauseState,\n  DownloadProgressCallback,\n  DownloadProgressData,\n  DownloadResult,\n  EncodingType,\n  FileInfo,\n  FileSystemDownloadResult,\n  FileSystemRequestDirectoryPermissionsResult,\n  FileSystemAcceptedUploadHttpMethod,\n  FileSystemSessionType,\n  FileSystemUploadOptions,\n  FileSystemUploadResult,\n  FileSystemUploadType,\n  FileSystemNetworkTaskProgressCallback,\n  ReadingOptions,\n  WritingOptions,\n};\n\nfunction normalizeEndingSlash(p: string | null): string | null {\n  if (p != null) {\n    return p.replace(/\\/*$/, '') + '/';\n  }\n  return null;\n}\n\nexport const documentDirectory = normalizeEndingSlash(ExponentFileSystem.documentDirectory);\nexport const cacheDirectory = normalizeEndingSlash(ExponentFileSystem.cacheDirectory);\n\nexport const { bundledAssets, bundleDirectory } = ExponentFileSystem;\n\nexport async function getInfoAsync(\n  fileUri: string,\n  options: { md5?: boolean; size?: boolean } = {}\n): Promise<FileInfo> {\n  if (!ExponentFileSystem.getInfoAsync) {\n    throw new UnavailabilityError('expo-file-system', 'getInfoAsync');\n  }\n  return await ExponentFileSystem.getInfoAsync(fileUri, options);\n}\n\nexport async function readAsStringAsync(\n  fileUri: string,\n  options?: ReadingOptions\n): Promise<string> {\n  if (!ExponentFileSystem.readAsStringAsync) {\n    throw new UnavailabilityError('expo-file-system', 'readAsStringAsync');\n  }\n  return await ExponentFileSystem.readAsStringAsync(fileUri, options || {});\n}\n\nexport async function getContentUriAsync(fileUri: string): Promise<string> {\n  if (Platform.OS === 'android') {\n    if (!ExponentFileSystem.getContentUriAsync) {\n      throw new UnavailabilityError('expo-file-system', 'getContentUriAsync');\n    }\n    return await ExponentFileSystem.getContentUriAsync(fileUri);\n  } else {\n    return new Promise(function (resolve, reject) {\n      resolve(fileUri);\n    });\n  }\n}\n\nexport async function writeAsStringAsync(\n  fileUri: string,\n  contents: string,\n  options: WritingOptions = {}\n): Promise<void> {\n  if (!ExponentFileSystem.writeAsStringAsync) {\n    throw new UnavailabilityError('expo-file-system', 'writeAsStringAsync');\n  }\n  return await ExponentFileSystem.writeAsStringAsync(fileUri, contents, options);\n}\n\nexport async function deleteAsync(\n  fileUri: string,\n  options: { idempotent?: boolean } = {}\n): Promise<void> {\n  if (!ExponentFileSystem.deleteAsync) {\n    throw new UnavailabilityError('expo-file-system', 'deleteAsync');\n  }\n  return await ExponentFileSystem.deleteAsync(fileUri, options);\n}\n\nexport async function deleteLegacyDocumentDirectoryAndroid(): Promise<void> {\n  if (Platform.OS !== 'android' || documentDirectory == null) {\n    return;\n  }\n  const legacyDocumentDirectory = `${documentDirectory}ExperienceData/`;\n  return await deleteAsync(legacyDocumentDirectory, { idempotent: true });\n}\n\nexport async function moveAsync(options: { from: string; to: string }): Promise<void> {\n  if (!ExponentFileSystem.moveAsync) {\n    throw new UnavailabilityError('expo-file-system', 'moveAsync');\n  }\n  return await ExponentFileSystem.moveAsync(options);\n}\n\nexport async function copyAsync(options: { from: string; to: string }): Promise<void> {\n  if (!ExponentFileSystem.copyAsync) {\n    throw new UnavailabilityError('expo-file-system', 'copyAsync');\n  }\n  return await ExponentFileSystem.copyAsync(options);\n}\n\nexport async function makeDirectoryAsync(\n  fileUri: string,\n  options: { intermediates?: boolean } = {}\n): Promise<void> {\n  if (!ExponentFileSystem.makeDirectoryAsync) {\n    throw new UnavailabilityError('expo-file-system', 'makeDirectoryAsync');\n  }\n  return await ExponentFileSystem.makeDirectoryAsync(fileUri, options);\n}\n\nexport async function readDirectoryAsync(fileUri: string): Promise<string[]> {\n  if (!ExponentFileSystem.readDirectoryAsync) {\n    throw new UnavailabilityError('expo-file-system', 'readDirectoryAsync');\n  }\n  return await ExponentFileSystem.readDirectoryAsync(fileUri, {});\n}\n\nexport async function getFreeDiskStorageAsync(): Promise<number> {\n  if (!ExponentFileSystem.getFreeDiskStorageAsync) {\n    throw new UnavailabilityError('expo-file-system', 'getFreeDiskStorageAsync');\n  }\n  return await ExponentFileSystem.getFreeDiskStorageAsync();\n}\n\nexport async function getTotalDiskCapacityAsync(): Promise<number> {\n  if (!ExponentFileSystem.getTotalDiskCapacityAsync) {\n    throw new UnavailabilityError('expo-file-system', 'getTotalDiskCapacityAsync');\n  }\n  return await ExponentFileSystem.getTotalDiskCapacityAsync();\n}\n\nexport async function downloadAsync(\n  uri: string,\n  fileUri: string,\n  options: DownloadOptions = {}\n): Promise<FileSystemDownloadResult> {\n  if (!ExponentFileSystem.downloadAsync) {\n    throw new UnavailabilityError('expo-file-system', 'downloadAsync');\n  }\n\n  return await ExponentFileSystem.downloadAsync(uri, fileUri, {\n    sessionType: FileSystemSessionType.BACKGROUND,\n    ...options,\n  });\n}\n\nexport async function uploadAsync(\n  url: string,\n  fileUri: string,\n  options: FileSystemUploadOptions = {}\n): Promise<FileSystemUploadResult> {\n  if (!ExponentFileSystem.uploadAsync) {\n    throw new UnavailabilityError('expo-file-system', 'uploadAsync');\n  }\n\n  return await ExponentFileSystem.uploadAsync(url, fileUri, {\n    sessionType: FileSystemSessionType.BACKGROUND,\n    uploadType: FileSystemUploadType.BINARY_CONTENT,\n    ...options,\n    httpMethod: (options.httpMethod || 'POST').toUpperCase(),\n  });\n}\n\nexport function createDownloadResumable(\n  uri: string,\n  fileUri: string,\n  options?: DownloadOptions,\n  callback?: FileSystemNetworkTaskProgressCallback<DownloadProgressData>,\n  resumeData?: string\n): DownloadResumable {\n  return new DownloadResumable(uri, fileUri, options, callback, resumeData);\n}\n\nexport function createUploadTask(\n  url: string,\n  fileUri: string,\n  options?: FileSystemUploadOptions,\n  callback?: FileSystemNetworkTaskProgressCallback<UploadProgressData>\n): UploadTask {\n  return new UploadTask(url, fileUri, options, callback);\n}\n\nexport abstract class FileSystemCancellableNetworkTask<\n  T extends DownloadProgressData | UploadProgressData\n> {\n  private _uuid = uuidv4();\n  protected taskWasCanceled = false;\n  private emitter = new EventEmitter(ExponentFileSystem);\n  private subscription?: Subscription | null;\n\n  public async cancelAsync(): Promise<void> {\n    if (!ExponentFileSystem.networkTaskCancelAsync) {\n      throw new UnavailabilityError('expo-file-system', 'networkTaskCancelAsync');\n    }\n\n    this.removeSubscription();\n    this.taskWasCanceled = true;\n    return await ExponentFileSystem.networkTaskCancelAsync(this.uuid);\n  }\n\n  protected isTaskCancelled(): boolean {\n    if (this.taskWasCanceled) {\n      console.warn('This task was already canceled.');\n      return true;\n    }\n\n    return false;\n  }\n\n  protected get uuid(): string {\n    return this._uuid;\n  }\n\n  protected abstract getEventName(): string;\n\n  protected abstract getCallback(): FileSystemNetworkTaskProgressCallback<T> | undefined;\n\n  protected addSubscription() {\n    if (this.subscription) {\n      return;\n    }\n\n    this.subscription = this.emitter.addListener(this.getEventName(), (event: ProgressEvent<T>) => {\n      if (event.uuid === this.uuid) {\n        const callback = this.getCallback();\n        if (callback) {\n          callback(event.data);\n        }\n      }\n    });\n  }\n\n  protected removeSubscription() {\n    if (!this.subscription) {\n      return;\n    }\n    this.emitter.removeSubscription(this.subscription);\n    this.subscription = null;\n  }\n}\n\nexport class UploadTask extends FileSystemCancellableNetworkTask<UploadProgressData> {\n  private options: FileSystemUploadOptions;\n\n  constructor(\n    private url: string,\n    private fileUri: string,\n    options?: FileSystemUploadOptions,\n    private callback?: FileSystemNetworkTaskProgressCallback<UploadProgressData>\n  ) {\n    super();\n\n    const httpMethod = (options?.httpMethod?.toUpperCase() ||\n      'POST') as FileSystemAcceptedUploadHttpMethod;\n\n    this.options = {\n      sessionType: FileSystemSessionType.BACKGROUND,\n      uploadType: FileSystemUploadType.BINARY_CONTENT,\n      ...options,\n      httpMethod,\n    };\n  }\n\n  protected getEventName(): string {\n    return 'expo-file-system.uploadProgress';\n  }\n  protected getCallback(): FileSystemNetworkTaskProgressCallback<UploadProgressData> | undefined {\n    return this.callback;\n  }\n\n  public async uploadAsync(): Promise<FileSystemUploadResult | undefined> {\n    if (!ExponentFileSystem.uploadTaskStartAsync) {\n      throw new UnavailabilityError('expo-file-system', 'uploadTaskStartAsync');\n    }\n\n    if (this.isTaskCancelled()) {\n      return;\n    }\n\n    this.addSubscription();\n    const result = await ExponentFileSystem.uploadTaskStartAsync(\n      this.url,\n      this.fileUri,\n      this.uuid,\n      this.options\n    );\n    this.removeSubscription();\n\n    return result;\n  }\n}\n\nexport class DownloadResumable extends FileSystemCancellableNetworkTask<DownloadProgressData> {\n  constructor(\n    private url: string,\n    private _fileUri: string,\n    private options: DownloadOptions = {},\n    private callback?: FileSystemNetworkTaskProgressCallback<DownloadProgressData>,\n    private resumeData?: string\n  ) {\n    super();\n  }\n\n  public get fileUri(): string {\n    return this._fileUri;\n  }\n\n  protected getEventName(): string {\n    return 'expo-file-system.downloadProgress';\n  }\n\n  protected getCallback(): FileSystemNetworkTaskProgressCallback<DownloadProgressData> | undefined {\n    return this.callback;\n  }\n\n  async downloadAsync(): Promise<FileSystemDownloadResult | undefined> {\n    if (!ExponentFileSystem.downloadResumableStartAsync) {\n      throw new UnavailabilityError('expo-file-system', 'downloadResumableStartAsync');\n    }\n\n    if (this.isTaskCancelled()) {\n      return;\n    }\n\n    this.addSubscription();\n    return await ExponentFileSystem.downloadResumableStartAsync(\n      this.url,\n      this._fileUri,\n      this.uuid,\n      this.options,\n      this.resumeData\n    );\n  }\n\n  async pauseAsync(): Promise<DownloadPauseState> {\n    if (!ExponentFileSystem.downloadResumablePauseAsync) {\n      throw new UnavailabilityError('expo-file-system', 'downloadResumablePauseAsync');\n    }\n\n    if (this.isTaskCancelled()) {\n      return {\n        fileUri: this._fileUri,\n        options: this.options,\n        url: this.url,\n      };\n    }\n\n    const pauseResult = await ExponentFileSystem.downloadResumablePauseAsync(this.uuid);\n    this.removeSubscription();\n    if (pauseResult) {\n      this.resumeData = pauseResult.resumeData;\n      return this.savable();\n    } else {\n      throw new Error('Unable to generate a savable pause state');\n    }\n  }\n\n  async resumeAsync(): Promise<FileSystemDownloadResult | undefined> {\n    if (!ExponentFileSystem.downloadResumableStartAsync) {\n      throw new UnavailabilityError('expo-file-system', 'downloadResumableStartAsync');\n    }\n\n    if (this.isTaskCancelled()) {\n      return;\n    }\n\n    this.addSubscription();\n    return await ExponentFileSystem.downloadResumableStartAsync(\n      this.url,\n      this.fileUri,\n      this.uuid,\n      this.options,\n      this.resumeData\n    );\n  }\n\n  savable(): DownloadPauseState {\n    return {\n      url: this.url,\n      fileUri: this.fileUri,\n      options: this.options,\n      resumeData: this.resumeData,\n    };\n  }\n}\n\nconst baseReadAsStringAsync = readAsStringAsync;\nconst baseWriteAsStringAsync = writeAsStringAsync;\nconst baseDeleteAsync = deleteAsync;\nconst baseMoveAsync = moveAsync;\nconst baseCopyAsync = copyAsync;\n/**\n * Android only\n */\nexport namespace StorageAccessFramework {\n  export function getUriForDirectoryInRoot(folderName: string) {\n    return `content://com.android.externalstorage.documents/tree/primary:${folderName}/document/primary:${folderName}`;\n  }\n\n  export async function requestDirectoryPermissionsAsync(\n    initialFileUrl: string | null = null\n  ): Promise<FileSystemRequestDirectoryPermissionsResult> {\n    if (!ExponentFileSystem.requestDirectoryPermissionsAsync) {\n      throw new UnavailabilityError(\n        'expo-file-system',\n        'StorageAccessFramework.requestDirectoryPermissionsAsync'\n      );\n    }\n\n    return await ExponentFileSystem.requestDirectoryPermissionsAsync(initialFileUrl);\n  }\n\n  export async function readDirectoryAsync(dirUri: string): Promise<string[]> {\n    if (!ExponentFileSystem.readSAFDirectoryAsync) {\n      throw new UnavailabilityError(\n        'expo-file-system',\n        'StorageAccessFramework.readDirectoryAsync'\n      );\n    }\n    return await ExponentFileSystem.readSAFDirectoryAsync(dirUri, {});\n  }\n\n  export async function makeDirectoryAsync(parentUri: string, dirName: string): Promise<string> {\n    if (!ExponentFileSystem.makeSAFDirectoryAsync) {\n      throw new UnavailabilityError(\n        'expo-file-system',\n        'StorageAccessFramework.makeDirectoryAsync'\n      );\n    }\n    return await ExponentFileSystem.makeSAFDirectoryAsync(parentUri, dirName);\n  }\n\n  export async function createFileAsync(\n    parentUri: string,\n    fileName: string,\n    mimeType: string\n  ): Promise<string> {\n    if (!ExponentFileSystem.createSAFFileAsync) {\n      throw new UnavailabilityError('expo-file-system', 'StorageAccessFramework.createFileAsync');\n    }\n    return await ExponentFileSystem.createSAFFileAsync(parentUri, fileName, mimeType);\n  }\n\n  export const writeAsStringAsync = baseWriteAsStringAsync;\n  export const readAsStringAsync = baseReadAsStringAsync;\n  export const deleteAsync = baseDeleteAsync;\n  export const moveAsync = baseMoveAsync;\n  export const copyAsync = baseCopyAsync;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}