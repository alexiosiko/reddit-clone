{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import Image from\"react-native-web/dist/exports/Image\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import View from\"react-native-web/dist/exports/View\";import{palette}from\"../styles/global-styles\";import{useState}from\"react\";import InsertImage from\"../components/InsertImage.js\";import Header from\"../components/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Create(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),image64=_useState6[0],setImage64=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),postStatus=_useState8[0],setPostStatus=_useState8[1];function handleOnSubmit(){return _handleOnSubmit.apply(this,arguments);}function _handleOnSubmit(){_handleOnSubmit=_asyncToGenerator(function*(){if(title==\"\"||description==\"\"){console.warn(\"Required fields missing...\");return;}setPostStatus({result:'Uploading post...',color:'yellow'});var post=createPost();console.log(post);setPostStatus({result:'Successfully uploaded post!',color:'green'});});return _handleOnSubmit.apply(this,arguments);}function createPost(){return{title:title,description:description,owner:\"owner\",image64:image64,likes:0,dislikes:0};}function uploadPost(_x){return _uploadPost.apply(this,arguments);}function _uploadPost(){_uploadPost=_asyncToGenerator(function*(post){var response=yield fetch(\"https://reddit-clone-5ctl.onrender.com/uploadpost\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(post)});return response;});return _uploadPost.apply(this,arguments);}return _jsx(TouchableWithoutFeedback,{onPress:function onPress(){return Keyboard.dismiss();},style:{flex:1,backgroundColor:'red'},children:_jsxs(View,{children:[_jsx(Header,{header:\"Create\"}),_jsxs(View,{style:styles.body,children:[_jsxs(View,{style:styles.leftRightView,children:[_jsx(Image,{source:require(\"./../../../assets/sprites/profile-pic.png\"),style:styles.profilePic}),_jsxs(View,{style:{marginLeft:5,justifyContent:'center'},children:[_jsx(Text,{style:styles.name,children:\"Alexi Ikonomou\"}),_jsx(Text,{style:styles.username,children:\"@alexiosiko\"})]}),_jsx(InsertImage,{setImage64:setImage64})]}),_jsx(TextInput,{style:[styles.titleInput,styles.textInput],onChange:handleOnChangeTitle,placeholder:\"Post title\",placeholderTextColor:palette.titlecolor}),_jsx(TextInput,{style:[styles.descritionInput,styles.textInput],onChange:handleOnChangeDescription,placeholder:\"What do you want to talk about?\",placeholderTextColor:palette.textcolor,multiline:true,textAlignVertical:\"top\"}),_jsx(TouchableOpacity,{style:styles.button,onPress:handleOnSubmit,children:_jsx(Text,{children:\"Upload Post\"})}),_jsx(Text,{style:{color:postStatus.color,textAlign:'center',marginTop:20},children:postStatus.result})]})]})});function handleOnChangeTitle(e){setTitle(e.nativeEvent.text);}function handleOnChangeDescription(e){setDescription(e.nativeEvent.text);}}var styles=StyleSheet.create({body:{padding:20},leftRightView:{alignItems:'center',marginLeft:10,flexDirection:'row'},name:{color:palette.titlecolor,fontSize:20},username:{color:palette.textcolor,fontSize:10},profilePic:{borderRadius:25,width:30,height:30},textInput:{backgroundColor:palette.otherNeutral,borderRadius:20,marginTop:10},titleInput:{color:palette.titlecolor,padding:20},descritionInput:{color:palette.textcolor,padding:20,height:220},button:{marginTop:15,height:30,width:'50%',alignSelf:'center',justifyContent:'center',alignItems:'center',backgroundColor:palette.button,borderRadius:20}});export default Create;","map":{"version":3,"names":["palette","useState","InsertImage","Header","jsx","_jsx","jsxs","_jsxs","Create","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","_useState5","_useState6","image64","setImage64","_useState7","_useState8","postStatus","setPostStatus","handleOnSubmit","_handleOnSubmit","apply","arguments","_asyncToGenerator","console","warn","result","color","post","createPost","log","owner","likes","dislikes","uploadPost","_x","_uploadPost","response","fetch","method","headers","body","JSON","stringify","TouchableWithoutFeedback","onPress","Keyboard","dismiss","style","flex","backgroundColor","children","View","header","styles","leftRightView","Image","source","require","profilePic","marginLeft","justifyContent","Text","name","username","TextInput","titleInput","textInput","onChange","handleOnChangeTitle","placeholder","placeholderTextColor","titlecolor","descritionInput","handleOnChangeDescription","textcolor","multiline","textAlignVertical","TouchableOpacity","button","textAlign","marginTop","e","nativeEvent","text","StyleSheet","create","padding","alignItems","flexDirection","fontSize","borderRadius","width","height","otherNeutral","alignSelf"],"sources":["C:/Users/alexi/Documents/react-native/reddit-clone/src/frontend/pages/Upload.js"],"sourcesContent":["import { Image, Keyboard, StyleSheet, Text, TextInput, TouchableOpacity, TouchableWithoutFeedback, View } from \"react-native\";\r\nimport { palette } from \"../styles/global-styles\";\r\nimport { useState } from \"react\";\r\nimport InsertImage from '../components/InsertImage.js';\r\nimport Header from \"../components/Header\";\r\n\r\nfunction Create() {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [description, setDescription] = useState(\"\");\r\n\tconst [image64, setImage64] = useState(\"\");\r\n\tconst [postStatus, setPostStatus] = useState({});\r\n\tasync function handleOnSubmit() {\r\n\t\tif (title == \"\" || description == \"\") {\r\n\t\t\tconsole.warn(\"Required fields missing...\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetPostStatus({ result: 'Uploading post...', color: 'yellow' });\r\n\t\tconst post = createPost();\r\n\t\tconsole.log(post);\r\n\t\t// const response = await uploadPost(post);\r\n\t\tsetPostStatus({ result: 'Successfully uploaded post!', color: 'green'})\r\n\t}\r\n\r\n\tfunction createPost() {\r\n\t\treturn {\r\n\t\t\ttitle: title,\r\n\t\t\tdescription: description,\r\n\t\t\towner: \"owner\",\r\n\t\t\timage64: image64,\r\n\t\t\tlikes: 0,\r\n\t\t\tdislikes: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tasync function uploadPost(post) {\r\n\t\tconst response = await fetch(\"https://reddit-clone-5ctl.onrender.com/uploadpost\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify(post),\r\n\t\t});\t\r\n\t\treturn response;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<TouchableWithoutFeedback onPress={() => Keyboard.dismiss()} style={{ flex: 1, backgroundColor: 'red'}}>\r\n\t\t\t<View>\r\n\t\t\t<Header header=\"Create\" />\r\n\t\t\t\t<View style={styles.body}>\r\n\t\t\t\t\t<View style={styles.leftRightView}>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/profile-pic.png')} style={styles.profilePic} />\r\n\t\t\t\t\t\t<View style={{marginLeft: 5, justifyContent: 'center'}}>\r\n\t\t\t\t\t\t\t<Text style={styles.name}>Alexi Ikonomou</Text>\r\n\t\t\t\t\t\t\t<Text style={styles.username}>@alexiosiko</Text>\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t<InsertImage setImage64={setImage64}/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<TextInput style={[styles.titleInput, styles.textInput]}\r\n\t\t\t\t\t\tonChange={handleOnChangeTitle}\r\n\t\t\t\t\t\tplaceholder=\"Post title\"\r\n\t\t\t\t\t\tplaceholderTextColor={palette.titlecolor}/>\r\n\t\t\t\t\t<TextInput style={[styles.descritionInput, styles.textInput]}\r\n\t\t\t\t\t\tonChange={handleOnChangeDescription}\r\n\t\t\t\t\t\tplaceholder=\"What do you want to talk about?\"\r\n\t\t\t\t\t\tplaceholderTextColor={palette.textcolor}\r\n\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\ttextAlignVertical=\"top\"/>\r\n\t\t\t\t\t<TouchableOpacity style={styles.button} onPress={handleOnSubmit}>\r\n\t\t\t\t\t\t<Text>Upload Post</Text>\r\n\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t<Text style={{ color: postStatus.color, textAlign: 'center', marginTop: 20,}}>{postStatus.result}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</TouchableWithoutFeedback>)\r\n\t\r\n\tfunction handleOnChangeTitle(e) {\r\n\t\tsetTitle(e.nativeEvent.text);\r\n\t}\r\n\t\r\n\tfunction handleOnChangeDescription(e) {\r\n\t\tsetDescription(e.nativeEvent.text);\r\n\t}\r\n}\r\nconst styles = StyleSheet.create({\r\n\tbody: {\r\n\t\tpadding: 20,\r\n\t},\r\n\tleftRightView: {\r\n\t\talignItems: 'center',\r\n\t\tmarginLeft: 10,\r\n\t\tflexDirection: 'row',\r\n\t},\r\n\tname: {\r\n\t\tcolor: palette.titlecolor,\r\n\t\tfontSize: 20,\r\n\t},\r\n\tusername: {\r\n\t\tcolor: palette.textcolor,\r\n\t\tfontSize: 10,\r\n\t},\r\n\tprofilePic: {\r\n\t\tborderRadius: 25,\r\n\t\twidth: 30,\r\n\t\theight: 30,\r\n\t},\r\n\ttextInput: {\r\n\t\tbackgroundColor: palette.otherNeutral,\r\n\t\tborderRadius: 20,\r\n\t\tmarginTop: 10,\r\n\t},\t\r\n\ttitleInput: {\r\n\t\tcolor: palette.titlecolor,\r\n\t\tpadding: 20,\r\n\t},\r\n\tdescritionInput: {\r\n\t\tcolor: palette.textcolor,\r\n\t\tpadding: 20,\r\n\t\theight: 220,\r\n\t},\r\n\tbutton: {\r\n\t\tmarginTop: 15,\r\n\t\theight: 30,\r\n\t\twidth: '50%',\r\n\t\talignSelf: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tbackgroundColor: palette.button,\r\n\t\tborderRadius: 20,\r\n\t}\r\n})\r\nexport default Create;"],"mappings":"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"},"metadata":{},"sourceType":"module"}