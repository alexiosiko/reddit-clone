{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useEffect,useRef,useState}from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Animated from\"react-native-web/dist/exports/Animated\";import{palette}from\"../styles/global-styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Post(_ref){var title=_ref.title,description=_ref.description,likes=_ref.likes,dislikes=_ref.dislikes,postId=_ref.postId,image64=_ref.image64;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFetching=_useState2[0],setIsFetching=_useState2[1];var fadeAnim=useRef(new Animated.Value(0)).current;function handleLike(){return _handleLike.apply(this,arguments);}function _handleLike(){_handleLike=_asyncToGenerator(function*(){if(isFetching==true)return;var response=yield fetch(\"http://192.168.1.72:5001/likepost\",{method:\"POST\",body:JSON.stringify(postId),headers:{'Content-Type':'application/json'}});dislikes++;});return _handleLike.apply(this,arguments);}function handleDislike(){return _handleDislike.apply(this,arguments);}function _handleDislike(){_handleDislike=_asyncToGenerator(function*(){if(isFetching==true)return;var response=yield fetch(\"http://192.168.1.72:5001/dislikepost\",{method:\"POST\",body:JSON.stringify(postId),headers:{'Content-Type':'application/json'}});var response_json=yield response.json();});return _handleDislike.apply(this,arguments);}return _jsxs(View,{style:styles.post,children:[_jsxs(View,{style:styles.leftRightContainer,children:[_jsxs(View,{style:styles.left,children:[_jsx(Text,{style:styles.title,children:title}),_jsx(Text,{style:[styles.text,{maxHeight:75}],children:description})]}),_jsx(View,{style:styles.right,children:_jsx(Image,{source:{uri:\"data:image/jpeg;base64,\"+image64},style:styles.image})})]}),_jsx(View,{children:_jsxs(View,{style:styles.row,children:[_jsxs(View,{style:styles.leftRightSmallContainer,children:[_jsx(Text,{style:styles.text,children:likes}),_jsx(Image,{source:require(\"./../../../assets/sprites/like.png\"),style:styles.icon})]}),_jsxs(View,{style:styles.leftRightSmallContainer,children:[_jsx(Text,{style:styles.text,children:dislikes}),_jsx(Image,{source:require(\"./../../../assets/sprites/dislike.png\"),style:styles.icon})]})]})})]});}export default Post;var styles=StyleSheet.create({post:{borderRadius:15,height:150,margin:10,padding:10,backgroundColor:palette.otherNeutral},leftRightContainer:{display:'flex',flexDirection:\"row\",flex:1},left:{flex:1},right:{width:'30%'},image:{alignSelf:'flex-end',height:80,aspectRatio:1,borderRadius:8},title:{color:palette.titlecolor,fontSize:21,fontWeight:'900'},text:{color:palette.textcolor,fontSize:17,fontWeight:'600'},row:{display:'flex',flexDirection:'row'},leftRightSmallContainer:{display:'flex',flexDirection:'row'},icon:{marginLeft:10,marginRight:50,width:20,aspectRatio:1}});","map":{"version":3,"names":["useEffect","useRef","useState","View","Text","StyleSheet","Image","TouchableOpacity","Animated","palette","jsx","_jsx","jsxs","_jsxs","Post","_ref","title","description","likes","dislikes","postId","image64","_useState","_useState2","_slicedToArray","isFetching","setIsFetching","fadeAnim","Value","current","handleLike","_handleLike","apply","arguments","_asyncToGenerator","response","fetch","method","body","JSON","stringify","headers","handleDislike","_handleDislike","response_json","json","style","styles","post","children","leftRightContainer","left","text","maxHeight","right","source","uri","image","row","leftRightSmallContainer","require","icon","create","borderRadius","height","margin","padding","backgroundColor","otherNeutral","display","flexDirection","flex","width","alignSelf","aspectRatio","color","titlecolor","fontSize","fontWeight","textcolor","marginLeft","marginRight"],"sources":["C:/Users/alexi/Documents/react-native/reddit-clone/src/frontend/components/Post.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { View, Text, StyleSheet, Image, TouchableOpacity, Animated } from \"react-native\";\r\nimport { palette } from \"../styles/global-styles\";\r\n\r\nfunction Post({ title, description, likes, dislikes, postId, image64 }) {\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n\tasync function handleLike() {\r\n\t\tif (isFetching == true)\r\n\t\t\treturn;\r\n\t\tconst response = await fetch(\"http://192.168.1.72:5001/likepost\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(postId),\r\n\t\t\theaders: { 'Content-Type': 'application/json'},\r\n\t\t})\r\n\t\tdislikes++;\r\n\t}\r\n\tasync function handleDislike() {\r\n\t\tif (isFetching == true)\r\n\t\t\treturn;\r\n\t\tconst response = await fetch(\"http://192.168.1.72:5001/dislikepost\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(postId),\r\n\t\t\theaders: { 'Content-Type': 'application/json'},\r\n\t\t})\r\n\t\tconst response_json = await response.json();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View style={styles.post} >\r\n\t\t\t<View style={styles.leftRightContainer}>\r\n\t\t\t\t<View style={styles.left}>\r\n\t\t\t\t\t<Text style={styles.title}>{title}</Text>\r\n\t\t\t\t\t<Text style={[styles.text, { maxHeight: 75}]}>{description}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.right}>\r\n\t\t\t\t\t<Image source={{ uri: `data:image/jpeg;base64,${image64}`}}\r\n\t\t\t\t\t\tstyle={styles.image} />\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t\t<View>\r\n\t\t\t\t<View style={styles.row}>\r\n\t\t\t\t\t<View style={styles.leftRightSmallContainer}>\r\n\t\t\t\t\t\t<Text style={styles.text}>{likes}</Text>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/like.png')}\r\n\t\t\t\t\t\t\tstyle={styles.icon}/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.leftRightSmallContainer}>\r\n\t\t\t\t\t\t<Text style={styles.text}>{dislikes}</Text>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/dislike.png')}\r\n\t\t\t\t\t\t\tstyle={styles.icon}/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n}\r\nexport default Post;\r\nconst styles = StyleSheet.create({\r\n\tpost: {\r\n\t\tborderRadius: 15,\r\n        height: 150,\r\n        margin: 10,\r\n        padding: 10,\r\n        backgroundColor: palette.otherNeutral,\r\n    },\r\n\tleftRightContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: \"row\",\r\n\t\tflex: 1,\r\n\t},\r\n\tleft: {\r\n\t\tflex: 1,\r\n\t},\r\n\tright: { \r\n\t\twidth: '30%',\r\n\t},\r\n\timage: {\r\n\t\talignSelf: 'flex-end',\r\n\t\theight: 80,\r\n\t\taspectRatio: 1,\r\n\t\tborderRadius: 8,\r\n\t},\r\n\ttitle: {\r\n\t\tcolor: palette.titlecolor,\r\n\t\tfontSize: 21,\r\n\t\tfontWeight: '900'\r\n\t},\r\n\ttext: {\r\n\t\tcolor: palette.textcolor,\r\n\t\tfontSize: 17,\r\n\t\tfontWeight: '600'\r\n\t},\r\n\trow: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\t// justifyContent: ''\r\n\t},\r\n\tleftRightSmallContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t},\r\n\ticon: {\r\n\t\tmarginLeft: 10,\r\n\t\tmarginRight: 50,\r\n\t\twidth: 20,\r\n\t\taspectRatio: 1,\r\n\t}\r\n\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}