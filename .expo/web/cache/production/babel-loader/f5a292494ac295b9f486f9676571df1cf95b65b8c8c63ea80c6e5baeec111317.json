{"ast":null,"code":"import{FlipType,SaveFormat}from\"./ImageManipulator.types\";export function validateArguments(uri,actions,saveOptions){validateUri(uri);validateActions(actions);validateSaveOptions(saveOptions);}export function validateUri(uri){if(!(typeof uri==='string')){throw new TypeError('The \"uri\" argument must be a string');}}export function validateActions(actions){if(!Array.isArray(actions)){throw new TypeError('The \"actions\" argument must be an array');}for(var action of actions){if(typeof action!=='object'||action===null){throw new TypeError('Action must be an object');}var supportedActionTypes=['crop','flip','rotate','resize'];var actionKeys=Object.keys(action);if(actionKeys.length!==1){throw new TypeError(\"Single action must contain exactly one transformation: \"+supportedActionTypes.join(', '));}var actionType=actionKeys[0];if(!supportedActionTypes.includes(actionType)){throw new TypeError(\"Unsupported action type: \"+actionType);}if(actionType==='crop'){validateCropAction(action);}else if(actionType==='flip'){validateFlipAction(action);}else if(actionType==='rotate'){validateRotateAction(action);}else if(actionType==='resize'){validateResizeAction(action);}}}function validateCropAction(action){var isValid=typeof action.crop==='object'&&action.crop!==null&&typeof action.crop.originX==='number'&&typeof action.crop.originY==='number'&&typeof action.crop.width==='number'&&typeof action.crop.height==='number';if(!isValid){throw new TypeError('Crop action must be an object of shape { originX: number; originY: number; width: number; height: number }');}}function validateFlipAction(action){if(typeof action.flip!=='string'||![FlipType.Horizontal,FlipType.Vertical].includes(action.flip)){throw new TypeError(\"Unsupported flip type: \"+action.flip);}}function validateRotateAction(action){if(typeof action.rotate!=='number'){throw new TypeError('Rotation must be a number');}}function validateResizeAction(action){var isValid=typeof action.resize==='object'&&action.resize!==null&&(typeof action.resize.width==='number'||typeof action.resize.width==='undefined')&&(typeof action.resize.height==='number'||typeof action.resize.height==='undefined');if(!isValid){throw new TypeError('Resize action must be an object of shape { width?: number; height?: number }');}}export function validateSaveOptions(_ref){var base64=_ref.base64,compress=_ref.compress,format=_ref.format;if(base64!==undefined&&typeof base64!=='boolean'){throw new TypeError('The \"base64\" argument must be a boolean');}if(compress!==undefined){if(typeof compress!=='number'){throw new TypeError('The \"compress\" argument must be a number');}if(compress<0||compress>1){throw new TypeError('The \"compress\" argument must be a number between 0 and 1');}}var allowedFormats=[SaveFormat.JPEG,SaveFormat.PNG,SaveFormat.WEBP];if(format!==undefined&&!allowedFormats.includes(format)){throw new TypeError(\"The \\\"format\\\" argument must be one of: \"+allowedFormats.join(', '));}}","map":{"version":3,"names":["FlipType","SaveFormat","validateArguments","uri","actions","saveOptions","validateUri","validateActions","validateSaveOptions","TypeError","Array","isArray","action","supportedActionTypes","actionKeys","Object","keys","length","join","actionType","includes","validateCropAction","validateFlipAction","validateRotateAction","validateResizeAction","isValid","crop","originX","originY","width","height","flip","Horizontal","Vertical","rotate","resize","_ref","base64","compress","format","undefined","allowedFormats","JPEG","PNG","WEBP"],"sources":["C:\\Users\\alexi\\Documents\\react-native\\reddit-clone\\node_modules\\expo-image-manipulator\\src\\validators.ts"],"sourcesContent":["import {\n  Action,\n  ActionCrop,\n  ActionFlip,\n  ActionResize,\n  ActionRotate,\n  FlipType,\n  SaveFormat,\n  SaveOptions,\n} from './ImageManipulator.types';\n\nexport function validateArguments(uri: string, actions: Action[], saveOptions: SaveOptions) {\n  validateUri(uri);\n  validateActions(actions);\n  validateSaveOptions(saveOptions);\n}\n\nexport function validateUri(uri: string): void {\n  if (!(typeof uri === 'string')) {\n    throw new TypeError('The \"uri\" argument must be a string');\n  }\n}\n\nexport function validateActions(actions: Action[]): void {\n  if (!Array.isArray(actions)) {\n    throw new TypeError('The \"actions\" argument must be an array');\n  }\n  for (const action of actions) {\n    if (typeof action !== 'object' || action === null) {\n      throw new TypeError('Action must be an object');\n    }\n    const supportedActionTypes = ['crop', 'flip', 'rotate', 'resize'];\n    const actionKeys = Object.keys(action);\n    if (actionKeys.length !== 1) {\n      throw new TypeError(\n        `Single action must contain exactly one transformation: ${supportedActionTypes.join(', ')}`\n      );\n    }\n    const actionType = actionKeys[0];\n    if (!supportedActionTypes.includes(actionType)) {\n      throw new TypeError(`Unsupported action type: ${actionType}`);\n    }\n\n    if (actionType === 'crop') {\n      validateCropAction(action as ActionCrop);\n    } else if (actionType === 'flip') {\n      validateFlipAction(action as ActionFlip);\n    } else if (actionType === 'rotate') {\n      validateRotateAction(action as ActionRotate);\n    } else if (actionType === 'resize') {\n      validateResizeAction(action as ActionResize);\n    }\n  }\n}\n\nfunction validateCropAction(action: ActionCrop): void {\n  const isValid =\n    typeof action.crop === 'object' &&\n    action.crop !== null &&\n    typeof action.crop.originX === 'number' &&\n    typeof action.crop.originY === 'number' &&\n    typeof action.crop.width === 'number' &&\n    typeof action.crop.height === 'number';\n  if (!isValid) {\n    throw new TypeError(\n      'Crop action must be an object of shape { originX: number; originY: number; width: number; height: number }'\n    );\n  }\n}\n\nfunction validateFlipAction(action: ActionFlip): void {\n  if (\n    typeof action.flip !== 'string' ||\n    ![FlipType.Horizontal, FlipType.Vertical].includes(action.flip)\n  ) {\n    throw new TypeError(`Unsupported flip type: ${action.flip}`);\n  }\n}\n\nfunction validateRotateAction(action: ActionRotate): void {\n  if (typeof action.rotate !== 'number') {\n    throw new TypeError('Rotation must be a number');\n  }\n}\n\nfunction validateResizeAction(action: ActionResize): void {\n  const isValid =\n    typeof action.resize === 'object' &&\n    action.resize !== null &&\n    (typeof action.resize.width === 'number' || typeof action.resize.width === 'undefined') &&\n    (typeof action.resize.height === 'number' || typeof action.resize.height === 'undefined');\n  if (!isValid) {\n    throw new TypeError(\n      'Resize action must be an object of shape { width?: number; height?: number }'\n    );\n  }\n}\n\nexport function validateSaveOptions({ base64, compress, format }: SaveOptions): void {\n  if (base64 !== undefined && typeof base64 !== 'boolean') {\n    throw new TypeError('The \"base64\" argument must be a boolean');\n  }\n  if (compress !== undefined) {\n    if (typeof compress !== 'number') {\n      throw new TypeError('The \"compress\" argument must be a number');\n    }\n    if (compress < 0 || compress > 1) {\n      throw new TypeError('The \"compress\" argument must be a number between 0 and 1');\n    }\n  }\n  const allowedFormats = [SaveFormat.JPEG, SaveFormat.PNG, SaveFormat.WEBP];\n  if (format !== undefined && !allowedFormats.includes(format)) {\n    throw new TypeError(`The \"format\" argument must be one of: ${allowedFormats.join(', ')}`);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}