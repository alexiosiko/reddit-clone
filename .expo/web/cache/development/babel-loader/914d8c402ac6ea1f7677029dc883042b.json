{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { palette } from \"../styles/global-styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Post(_ref) {\n  var title = _ref.title,\n    description = _ref.description,\n    likes = _ref.likes,\n    dislikes = _ref.dislikes,\n    postId = _ref.postId,\n    image64 = _ref.image64;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFetching = _useState2[0],\n    setIsFetching = _useState2[1];\n  var fadeAnim = useRef(new Animated.Value(0)).current;\n  function handleLike() {\n    return _handleLike.apply(this, arguments);\n  }\n  function _handleLike() {\n    _handleLike = _asyncToGenerator(function* () {\n      if (isFetching == true) return;\n      var response = yield fetch(\"http://192.168.1.72:5001/likepost\", {\n        method: \"POST\",\n        body: JSON.stringify(postId),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      dislikes++;\n    });\n    return _handleLike.apply(this, arguments);\n  }\n  function handleDislike() {\n    return _handleDislike.apply(this, arguments);\n  }\n  function _handleDislike() {\n    _handleDislike = _asyncToGenerator(function* () {\n      if (isFetching == true) return;\n      var response = yield fetch(\"http://192.168.1.72:5001/dislikepost\", {\n        method: \"POST\",\n        body: JSON.stringify(postId),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var response_json = yield response.json();\n    });\n    return _handleDislike.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: styles.post,\n    children: [_jsxs(View, {\n      style: styles.leftRightContainer,\n      children: [_jsxs(View, {\n        style: styles.left,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: title\n        }), _jsx(Text, {\n          style: [styles.text, {\n            maxHeight: 75\n          }],\n          children: description\n        })]\n      }), _jsx(View, {\n        style: styles.right,\n        children: _jsx(Image, {\n          source: {\n            uri: \"data:image/jpeg;base64,\" + image64\n          },\n          style: styles.image\n        })\n      })]\n    }), _jsx(View, {\n      children: _jsxs(View, {\n        style: styles.row,\n        children: [_jsxs(View, {\n          style: styles.leftRightSmallContainer,\n          children: [_jsx(Text, {\n            style: styles.text,\n            children: likes\n          }), _jsx(Image, {\n            source: require(\"./../../../assets/sprites/like.png\"),\n            style: styles.icon\n          })]\n        }), _jsxs(View, {\n          style: styles.leftRightSmallContainer,\n          children: [_jsx(Text, {\n            style: styles.text,\n            children: dislikes\n          }), _jsx(Image, {\n            source: require(\"./../../../assets/sprites/dislike.png\"),\n            style: styles.icon\n          })]\n        })]\n      })\n    })]\n  });\n}\nexport default Post;\nvar styles = StyleSheet.create({\n  post: {\n    borderRadius: 15,\n    height: 150,\n    margin: 10,\n    padding: 10,\n    backgroundColor: palette.otherNeutral\n  },\n  leftRightContainer: {\n    display: 'flex',\n    flexDirection: \"row\",\n    flex: 1\n  },\n  left: {\n    flex: 1\n  },\n  right: {\n    width: '30%'\n  },\n  image: {\n    alignSelf: 'flex-end',\n    height: 80,\n    aspectRatio: 1,\n    borderRadius: 8\n  },\n  title: {\n    color: palette.titlecolor,\n    fontSize: 21,\n    fontWeight: '900'\n  },\n  text: {\n    color: palette.textcolor,\n    fontSize: 17,\n    fontWeight: '600'\n  },\n  row: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  leftRightSmallContainer: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  icon: {\n    marginLeft: 10,\n    marginRight: 50,\n    width: 20,\n    aspectRatio: 1\n  }\n});","map":{"version":3,"names":["useEffect","useRef","useState","View","Text","StyleSheet","Image","TouchableOpacity","Animated","palette","jsx","_jsx","jsxs","_jsxs","Post","_ref","title","description","likes","dislikes","postId","image64","_useState","_useState2","_slicedToArray","isFetching","setIsFetching","fadeAnim","Value","current","handleLike","_handleLike","apply","arguments","_asyncToGenerator","response","fetch","method","body","JSON","stringify","headers","handleDislike","_handleDislike","response_json","json","style","styles","post","children","leftRightContainer","left","text","maxHeight","right","source","uri","image","row","leftRightSmallContainer","require","icon","create","borderRadius","height","margin","padding","backgroundColor","otherNeutral","display","flexDirection","flex","width","alignSelf","aspectRatio","color","titlecolor","fontSize","fontWeight","textcolor","marginLeft","marginRight"],"sources":["C:/Users/alexi/Documents/react-native/reddit-clone/src/frontend/components/Post.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { View, Text, StyleSheet, Image, TouchableOpacity, Animated } from \"react-native\";\r\nimport { palette } from \"../styles/global-styles\";\r\n\r\nfunction Post({ title, description, likes, dislikes, postId, image64 }) {\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst fadeAnim = useRef(new Animated.Value(0)).current;\r\n\r\n\tasync function handleLike() {\r\n\t\tif (isFetching == true)\r\n\t\t\treturn;\r\n\t\tconst response = await fetch(\"http://192.168.1.72:5001/likepost\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(postId),\r\n\t\t\theaders: { 'Content-Type': 'application/json'},\r\n\t\t})\r\n\t\tdislikes++;\r\n\t}\r\n\tasync function handleDislike() {\r\n\t\tif (isFetching == true)\r\n\t\t\treturn;\r\n\t\tconst response = await fetch(\"http://192.168.1.72:5001/dislikepost\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(postId),\r\n\t\t\theaders: { 'Content-Type': 'application/json'},\r\n\t\t})\r\n\t\tconst response_json = await response.json();\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View style={styles.post} >\r\n\t\t\t<View style={styles.leftRightContainer}>\r\n\t\t\t\t<View style={styles.left}>\r\n\t\t\t\t\t<Text style={styles.title}>{title}</Text>\r\n\t\t\t\t\t<Text style={[styles.text, { maxHeight: 75}]}>{description}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.right}>\r\n\t\t\t\t\t<Image source={{ uri: `data:image/jpeg;base64,${image64}`}}\r\n\t\t\t\t\t\tstyle={styles.image} />\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t\t<View>\r\n\t\t\t\t<View style={styles.row}>\r\n\t\t\t\t\t<View style={styles.leftRightSmallContainer}>\r\n\t\t\t\t\t\t<Text style={styles.text}>{likes}</Text>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/like.png')}\r\n\t\t\t\t\t\t\tstyle={styles.icon}/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.leftRightSmallContainer}>\r\n\t\t\t\t\t\t<Text style={styles.text}>{dislikes}</Text>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/dislike.png')}\r\n\t\t\t\t\t\t\tstyle={styles.icon}/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t);\r\n}\r\nexport default Post;\r\nconst styles = StyleSheet.create({\r\n\tpost: {\r\n\t\tborderRadius: 15,\r\n        height: 150,\r\n        margin: 10,\r\n        padding: 10,\r\n        backgroundColor: palette.otherNeutral,\r\n    },\r\n\tleftRightContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: \"row\",\r\n\t\tflex: 1,\r\n\t},\r\n\tleft: {\r\n\t\tflex: 1,\r\n\t},\r\n\tright: { \r\n\t\twidth: '30%',\r\n\t},\r\n\timage: {\r\n\t\talignSelf: 'flex-end',\r\n\t\theight: 80,\r\n\t\taspectRatio: 1,\r\n\t\tborderRadius: 8,\r\n\t},\r\n\ttitle: {\r\n\t\tcolor: palette.titlecolor,\r\n\t\tfontSize: 21,\r\n\t\tfontWeight: '900'\r\n\t},\r\n\ttext: {\r\n\t\tcolor: palette.textcolor,\r\n\t\tfontSize: 17,\r\n\t\tfontWeight: '600'\r\n\t},\r\n\trow: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\t// justifyContent: ''\r\n\t},\r\n\tleftRightSmallContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t},\r\n\ticon: {\r\n\t\tmarginLeft: 10,\r\n\t\tmarginRight: 50,\r\n\t\twidth: 20,\r\n\t\taspectRatio: 1,\r\n\t}\r\n\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}