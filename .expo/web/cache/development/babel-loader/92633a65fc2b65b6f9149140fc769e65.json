{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { palette } from \"../styles/global-styles\";\nimport { useState } from \"react\";\nimport InsertImage from \"../components/InsertImage.js\";\nimport Header from \"../components/Header\";\nimport { TouchableHighlightComponent } from \"react-native-web/dist/index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Create() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    description = _useState4[0],\n    setDescription = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    image64 = _useState6[0],\n    setImage64 = _useState6[1];\n  var _useState7 = useState({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    postStatus = _useState8[0],\n    setPostStatus = _useState8[1];\n  function handleOnSubmit() {\n    return _handleOnSubmit.apply(this, arguments);\n  }\n  function _handleOnSubmit() {\n    _handleOnSubmit = _asyncToGenerator(function* () {\n      if (title == \"\" || description == \"\") {\n        console.warn(\"Required fields missing...\");\n        return;\n      }\n      setPostStatus({\n        result: 'Uploading post...',\n        color: 'yellow'\n      });\n      var post = createPost();\n      console.log(post);\n      var response = yield uploadPost(post);\n      setPostStatus({\n        result: 'Successfully uploaded post!',\n        color: 'green'\n      });\n    });\n    return _handleOnSubmit.apply(this, arguments);\n  }\n  function createPost() {\n    return {\n      title: title,\n      description: description,\n      owner: \"owner\",\n      image64: image64,\n      likes: 0,\n      dislikes: 0\n    };\n  }\n  function uploadPost(_x) {\n    return _uploadPost.apply(this, arguments);\n  }\n  function _uploadPost() {\n    _uploadPost = _asyncToGenerator(function* (post) {\n      var response = yield fetch(\"https://reddit-clone-5ctl.onrender.com/uploadpost\", {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(post)\n      });\n      return response;\n    });\n    return _uploadPost.apply(this, arguments);\n  }\n  return _jsx(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    style: {\n      flex: 1,\n      backgroundColor: 'red'\n    },\n    children: _jsxs(View, {\n      children: [_jsx(Header, {\n        header: \"Create\"\n      }), _jsxs(View, {\n        style: styles.body,\n        children: [_jsxs(View, {\n          style: styles.leftRightView,\n          children: [_jsx(Image, {\n            source: require(\"./../../../assets/images/cow.jpg\"),\n            style: styles.profilePic\n          }), _jsxs(View, {\n            style: {\n              marginLeft: 5,\n              justifyContent: 'center'\n            },\n            children: [_jsx(Text, {\n              style: styles.name,\n              children: \"Alexi Ikonomou\"\n            }), _jsx(Text, {\n              style: styles.username,\n              children: \"@alexiosiko\"\n            })]\n          }), _jsx(InsertImage, {\n            setImage64: setImage64\n          })]\n        }), _jsx(TextInput, {\n          style: [styles.titleInput, styles.textInput],\n          onChange: handleOnChangeTitle,\n          placeholder: \"Post title\",\n          placeholderTextColor: palette.titlecolor\n        }), _jsx(TextInput, {\n          style: [styles.descritionInput, styles.textInput],\n          onChange: handleOnChangeDescription,\n          placeholder: \"What do you want to talk about?\",\n          placeholderTextColor: palette.textcolor,\n          multiline: true,\n          textAlignVertical: \"top\"\n        }), _jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: handleOnSubmit,\n          children: _jsx(Text, {\n            children: \"Upload Post\"\n          })\n        }), _jsx(Text, {\n          style: {\n            color: postStatus.color,\n            textAlign: 'center',\n            marginTop: 20\n          },\n          children: postStatus.result\n        })]\n      })]\n    })\n  });\n  function handleOnChangeTitle(e) {\n    setTitle(e.nativeEvent.text);\n  }\n  function handleOnChangeDescription(e) {\n    setDescription(e.nativeEvent.text);\n  }\n}\nvar styles = StyleSheet.create({\n  body: {\n    padding: 20\n  },\n  leftRightView: {\n    flexDirection: 'row'\n  },\n  name: {\n    color: palette.titlecolor,\n    fontSize: 20\n  },\n  username: {\n    color: palette.textcolor,\n    fontSize: 10\n  },\n  profilePic: {\n    borderRadius: 25,\n    width: 50,\n    height: 50\n  },\n  textInput: {\n    backgroundColor: palette.otherNeutral,\n    borderRadius: 20,\n    marginTop: 10\n  },\n  titleInput: {\n    color: palette.titlecolor,\n    padding: 20\n  },\n  descritionInput: {\n    color: palette.textcolor,\n    padding: 20,\n    height: 220\n  },\n  button: {\n    marginTop: 15,\n    height: 30,\n    width: '50%',\n    alignSelf: 'center',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: palette.button,\n    borderRadius: 20\n  }\n});\nexport default Create;","map":{"version":3,"names":["palette","useState","InsertImage","Header","TouchableHighlightComponent","jsx","_jsx","jsxs","_jsxs","Create","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","_useState5","_useState6","image64","setImage64","_useState7","_useState8","postStatus","setPostStatus","handleOnSubmit","_handleOnSubmit","apply","arguments","_asyncToGenerator","console","warn","result","color","post","createPost","log","response","uploadPost","owner","likes","dislikes","_x","_uploadPost","fetch","method","headers","body","JSON","stringify","TouchableWithoutFeedback","onPress","Keyboard","dismiss","style","flex","backgroundColor","children","View","header","styles","leftRightView","Image","source","require","profilePic","marginLeft","justifyContent","Text","name","username","TextInput","titleInput","textInput","onChange","handleOnChangeTitle","placeholder","placeholderTextColor","titlecolor","descritionInput","handleOnChangeDescription","textcolor","multiline","textAlignVertical","TouchableOpacity","button","textAlign","marginTop","e","nativeEvent","text","StyleSheet","create","padding","flexDirection","fontSize","borderRadius","width","height","otherNeutral","alignSelf","alignItems"],"sources":["C:/Users/alexi/Desktop/reddit-clone-0b981ea979a04dd91404b3a384f1c737d3fb26f5/src/frontend/pages/Create.js"],"sourcesContent":["import { Button, Image, Keyboard, StyleSheet, Text, TextInput, TouchableHighlight, TouchableOpacity, TouchableWithoutFeedback, View } from \"react-native\";\nimport { palette } from \"../styles/global-styles\";\nimport { useState } from \"react\";\nimport InsertImage from '../components/InsertImage.js';\nimport Header from \"../components/Header\";\nimport { TouchableHighlightComponent } from \"react-native\";\n\nfunction Create() {\n\tconst [title, setTitle] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [image64, setImage64] = useState(\"\");\n\tconst [postStatus, setPostStatus] = useState({});\n\tasync function handleOnSubmit() {\n\t\tif (title == \"\" || description == \"\") {\n\t\t\tconsole.warn(\"Required fields missing...\");\n\t\t\treturn;\n\t\t}\n\t\tsetPostStatus({ result: 'Uploading post...', color: 'yellow' });\n\t\tconst post = createPost();\n\t\tconsole.log(post);\n\t\tconst response = await uploadPost(post);\n\t\tsetPostStatus({ result: 'Successfully uploaded post!', color: 'green'})\n\t}\n\n\tfunction createPost() {\n\t\treturn {\n\t\t\ttitle: title,\n\t\t\tdescription: description,\n\t\t\towner: \"owner\",\n\t\t\timage64: image64,\n\t\t\tlikes: 0,\n\t\t\tdislikes: 0,\n\t\t};\n\t}\n\n\tasync function uploadPost(post) {\n\t\tconst response = await fetch(\"https://reddit-clone-5ctl.onrender.com/uploadpost\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(post),\n\t\t});\t\n\t\treturn response;\n\t}\n\n\treturn (\n\t\t<TouchableWithoutFeedback onPress={() => Keyboard.dismiss()} style={{ flex: 1, backgroundColor: 'red'}}>\n\t\t\t<View>\n\t\t\t<Header header=\"Create\" />\n\t\t\t\t<View style={styles.body}>\n\t\t\t\t\t<View style={styles.leftRightView}>\n\t\t\t\t\t\t<Image source={require('./../../../assets/images/cow.jpg')} style={styles.profilePic} />\n\t\t\t\t\t\t<View style={{marginLeft: 5, justifyContent: 'center'}}>\n\t\t\t\t\t\t\t<Text style={styles.name}>Alexi Ikonomou</Text>\n\t\t\t\t\t\t\t<Text style={styles.username}>@alexiosiko</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<InsertImage setImage64={setImage64}/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<TextInput style={[styles.titleInput, styles.textInput]}\n\t\t\t\t\t\tonChange={handleOnChangeTitle}\n\t\t\t\t\t\tplaceholder=\"Post title\"\n\t\t\t\t\t\tplaceholderTextColor={palette.titlecolor}/>\n\t\t\t\t\t<TextInput style={[styles.descritionInput, styles.textInput]}\n\t\t\t\t\t\tonChange={handleOnChangeDescription}\n\t\t\t\t\t\tplaceholder=\"What do you want to talk about?\"\n\t\t\t\t\t\tplaceholderTextColor={palette.textcolor}\n\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\ttextAlignVertical=\"top\"/>\n\t\t\t\t\t<TouchableOpacity style={styles.button} onPress={handleOnSubmit}>\n\t\t\t\t\t\t<Text>Upload Post</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t<Text style={{ color: postStatus.color, textAlign: 'center', marginTop: 20,}}>{postStatus.result}</Text>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>)\n\t\n\tfunction handleOnChangeTitle(e) {\n\t\tsetTitle(e.nativeEvent.text);\n\t}\n\t\n\tfunction handleOnChangeDescription(e) {\n\t\tsetDescription(e.nativeEvent.text);\n\t}\n}\nconst styles = StyleSheet.create({\n\tbody: {\n\t\tpadding: 20,\n\t},\n\tleftRightView: {\n\t\tflexDirection: 'row',\n\t},\n\tname: {\n\t\tcolor: palette.titlecolor,\n\t\tfontSize: 20,\n\t},\n\tusername: {\n\t\tcolor: palette.textcolor,\n\t\tfontSize: 10,\n\t},\n\tprofilePic: {\n\t\tborderRadius: 25,\n\t\twidth: 50,\n\t\theight: 50,\n\t},\n\ttextInput: {\n\t\tbackgroundColor: palette.otherNeutral,\n\t\tborderRadius: 20,\n\t\tmarginTop: 10,\n\t},\t\n\ttitleInput: {\n\t\tcolor: palette.titlecolor,\n\t\tpadding: 20,\n\t},\n\tdescritionInput: {\n\t\tcolor: palette.textcolor,\n\t\tpadding: 20,\n\t\theight: 220,\n\t},\n\tbutton: {\n\t\tmarginTop: 15,\n\t\theight: 30,\n\t\twidth: '50%',\n\t\talignSelf: 'center',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\tbackgroundColor: palette.button,\n\t\tborderRadius: 20,\n\t}\n})\nexport default Create;"],"mappings":"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"},"metadata":{},"sourceType":"module"}