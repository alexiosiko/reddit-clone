{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport { palette } from \"../styles/global-styles\";\nimport { useEffect, useState } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Post(_ref) {\n  var title = _ref.title,\n    description = _ref.description;\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: title\n    }), _jsx(Text, {\n      children: description\n    })]\n  });\n}\nfunction Posts() {\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    posts = _useState2[0],\n    setPosts = _useState2[1];\n  useEffect(function () {\n    fetchPosts();\n  }, []);\n  function setPost() {\n    return _setPost.apply(this, arguments);\n  }\n  function _setPost() {\n    _setPost = _asyncToGenerator(function* () {\n      var post = {\n        name: \"alexi\",\n        title: \"Breaking news!\",\n        description: \"A new medicine has just released! Click here blah blah blah blah ... \"\n      };\n      var response = yield fetch(\"http://127.0.0.1:5000/setpost\", {\n        method: \"POST\",\n        body: JSON.stringify(post)\n      });\n      console.log(response);\n      var jsonData = yield response.json();\n      console.log(jsonData);\n    });\n    return _setPost.apply(this, arguments);\n  }\n  return _jsx(View, {\n    style: styles.post,\n    children: Object.keys(posts).map(function (key) {\n      return _jsx(Post, {\n        title: posts[key].title,\n        description: posts[key].description\n      }, key);\n    })\n  });\n  function fetchPosts() {\n    return _fetchPosts.apply(this, arguments);\n  }\n  function _fetchPosts() {\n    _fetchPosts = _asyncToGenerator(function* () {\n      var response = yield fetch(\"http://127.0.0.1:5000/getposts\");\n      if (response.ok == false) throw new Error('Failed to fetch posts');\n      var data = yield response.json();\n      console.log(typeof posts);\n      setPosts(data);\n      console.log(da);\n    });\n    return _fetchPosts.apply(this, arguments);\n  }\n}\nvar styles = StyleSheet.create({\n  post: {\n    alignSelf: 'center',\n    width: '90%',\n    height: 150,\n    margin: 10,\n    padding: 10,\n    backgroundColor: '#090203'\n  },\n  postText: {\n    color: 'white'\n  },\n  bottom: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignSelf: 'center',\n    position: 'absolute',\n    bottom: 0,\n    height: 20,\n    width: '100%'\n  },\n  bottomItem: {\n    width: '30%',\n    height: '100%',\n    backgroundColor: palette.neutral,\n    bottom: 10\n  }\n});\nexport default Posts;","map":{"version":3,"names":["palette","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Post","_ref","title","description","View","children","Text","Posts","_useState","_useState2","_slicedToArray","posts","setPosts","fetchPosts","setPost","_setPost","apply","arguments","_asyncToGenerator","post","name","response","fetch","method","body","JSON","stringify","console","log","jsonData","json","style","styles","Object","keys","map","key","_fetchPosts","ok","Error","data","da","StyleSheet","create","alignSelf","width","height","margin","padding","backgroundColor","postText","color","bottom","flexDirection","justifyContent","position","bottomItem","neutral"],"sources":["C:/Users/alexi/Documents/Code/react-native/Project/src/frontend/components/Posts.js"],"sourcesContent":["import { View, StyleSheet, Text, TouchableHighlight } from \"react-native\";\r\nimport { palette } from \"../styles/global-styles\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction Post({ title, description }) {\r\n\treturn (\r\n\t\t<View>\r\n\t\t\t<Text>{title}</Text>\r\n\t\t\t<Text>{description}</Text>\r\n\t\t</View>\r\n\t);\r\n}\r\nfunction Posts() {\r\n\tconst [posts, setPosts] = useState({});\r\n\t\r\n\tuseEffect(() => {\r\n\t\tfetchPosts();\r\n\t}, [])\r\n\tasync function setPost() {\r\n\t\tconst post = {\r\n\t\t\tname: \"alexi\",\r\n\t\t\ttitle: \"Breaking news!\",\r\n\t\t\tdescription: \"A new medicine has just released! Click here blah blah blah blah ... \"\r\n\t\t}\r\n\t\tconst response = await fetch(\"http://127.0.0.1:5000/setpost\",\r\n\t\t\t{ \r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t  \tbody: JSON.stringify(post) \r\n\t\t\t});\r\n\t\t\tconsole.log(response);\r\n\t\tconst jsonData = await response.json();\r\n\t\tconsole.log(jsonData);\r\n\t}\r\n\treturn (\r\n\t<View style={styles.post}>\r\n\t\t{Object.keys(posts).map((key) => (\r\n\t\t\t<Post key={key} title={posts[key].title} description={posts[key].description} />\r\n\t\t))}\r\n\t</View>)\r\n\r\n\tasync function fetchPosts() {\r\n\t\tconst response = await fetch(\"http://127.0.0.1:5000/getposts\");\r\n\t\tif (response.ok == false)\r\n\t\t\tthrow new Error('Failed to fetch posts');\r\n\t\tconst data = await response.json();\r\n\t\tconsole.log(typeof(posts));\r\n\t\tsetPosts(data);\r\n\t\tconsole.log(da);\r\n\t}\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    post: { \r\n        alignSelf: 'center',\r\n        width: '90%',\r\n        height: 150,\r\n        margin: 10,\r\n        padding: 10,\r\n        backgroundColor: '#090203',\r\n    },\r\n    postText: {\r\n        color: 'white',\r\n    },\r\n    bottom: { \r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignSelf: 'center',\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        height: 20,\r\n        width: '100%',\r\n    },\r\n    bottomItem: {\r\n        width: '30%',\r\n        height: '100%',\r\n        backgroundColor: palette.neutral,\r\n        bottom: 10,\r\n    }\r\n})\r\nexport default Posts;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}