{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { globalStyles, palette } from \"../styles/global-styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Post(_ref) {\n  var title = _ref.title,\n    description = _ref.description,\n    likes = _ref.likes,\n    dislikes = _ref.dislikes,\n    postId = _ref.postId,\n    imgBase64 = _ref.imgBase64;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFetching = _useState2[0],\n    setIsFetching = _useState2[1];\n  useEffect(function () {}, []);\n  function handleLike() {\n    return _handleLike.apply(this, arguments);\n  }\n  function _handleLike() {\n    _handleLike = _asyncToGenerator(function* () {\n      if (isFetching == true) return;\n      var response = yield fetch(\"http://192.168.1.72:5001/likepost\", {\n        method: \"POST\",\n        body: JSON.stringify(postId),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      dislikes++;\n    });\n    return _handleLike.apply(this, arguments);\n  }\n  function handleDislike() {\n    return _handleDislike.apply(this, arguments);\n  }\n  function _handleDislike() {\n    _handleDislike = _asyncToGenerator(function* () {\n      if (isFetching == true) return;\n      var response = yield fetch(\"http://192.168.1.72:5001/dislikepost\", {\n        method: \"POST\",\n        body: JSON.stringify(postId),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var response_json = yield response.json();\n    });\n    return _handleDislike.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: styles.post,\n    children: [_jsxs(View, {\n      style: styles.leftRightContainer,\n      children: [_jsxs(View, {\n        style: styles.left,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: title\n        }), _jsx(Text, {\n          style: styles.text,\n          children: description\n        })]\n      }), _jsx(View, {\n        style: styles.right,\n        children: _jsx(Image, {\n          source: require(\"./../../../assets/images/cow.jpg\"),\n          style: styles.image\n        })\n      })]\n    }), _jsx(View, {\n      children: _jsxs(View, {\n        style: styles.row,\n        children: [_jsxs(View, {\n          style: styles.leftRightSmallContainer,\n          children: [_jsx(Text, {\n            style: styles.text,\n            children: likes\n          }), _jsx(Image, {\n            source: require(\"./../../../assets/sprites/like.png\"),\n            style: styles.icon\n          })]\n        }), _jsxs(View, {\n          style: styles.leftRightSmallContainer,\n          children: [_jsx(Text, {\n            style: styles.text,\n            children: dislikes\n          }), _jsx(Image, {\n            source: require(\"./../../../assets/sprites/dislike.png\"),\n            style: styles.icon\n          })]\n        })]\n      })\n    })]\n  });\n}\nexport default Post;\nvar styles = StyleSheet.create({\n  post: {\n    borderRadius: 15,\n    height: 150,\n    margin: 10,\n    padding: 10,\n    backgroundColor: palette.dark\n  },\n  leftRightContainer: {\n    display: 'flex',\n    flexDirection: \"row\",\n    flex: 1\n  },\n  left: {\n    flex: 1\n  },\n  right: {\n    width: '30%'\n  },\n  image: {\n    alignSelf: 'flex-end',\n    height: 80,\n    aspectRatio: 1,\n    borderRadius: 8\n  },\n  title: {\n    color: palette.titlecolor,\n    fontSize: 21,\n    fontWeight: '900'\n  },\n  text: {\n    color: palette.textcolor,\n    fontSize: 17,\n    fontWeight: '600'\n  },\n  row: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  leftRightSmallContainer: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  icon: {\n    marginLeft: 10,\n    marginRight: 50,\n    width: 20,\n    aspectRatio: 1\n  }\n});","map":{"version":3,"names":["useEffect","useState","View","Text","StyleSheet","Image","TouchableOpacity","globalStyles","palette","jsx","_jsx","jsxs","_jsxs","Post","_ref","title","description","likes","dislikes","postId","imgBase64","_useState","_useState2","_slicedToArray","isFetching","setIsFetching","handleLike","_handleLike","apply","arguments","_asyncToGenerator","response","fetch","method","body","JSON","stringify","headers","handleDislike","_handleDislike","response_json","json","style","styles","post","children","leftRightContainer","left","text","right","source","require","image","row","leftRightSmallContainer","icon","create","borderRadius","height","margin","padding","backgroundColor","dark","display","flexDirection","flex","width","alignSelf","aspectRatio","color","titlecolor","fontSize","fontWeight","textcolor","marginLeft","marginRight"],"sources":["C:/Users/alexi/Documents/react-native/Instagram/src/frontend/components/Post.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { View, Text, StyleSheet, Image, TouchableOpacity } from \"react-native\";\r\nimport { globalStyles, palette } from \"../styles/global-styles\";\r\n\r\nfunction Post({ title, description, likes, dislikes, postId, imgBase64 }) {\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\t\tuseEffect(() => {\r\n\t}, [])\r\n\r\n\tasync function handleLike() {\r\n\t\tif (isFetching == true)\r\n\t\t\treturn;\r\n\t\tconst response = await fetch(\"http://192.168.1.72:5001/likepost\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(postId),\r\n\t\t\theaders: { 'Content-Type': 'application/json'},\r\n\t\t})\r\n\t\tdislikes++;\r\n\t\t// console.log(response);\r\n\t}\r\n\tasync function handleDislike() {\r\n\t\tif (isFetching == true)\r\n\t\t\treturn;\r\n\t\tconst response = await fetch(\"http://192.168.1.72:5001/dislikepost\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(postId),\r\n\t\t\theaders: { 'Content-Type': 'application/json'},\r\n\t\t})\r\n\t\tconst response_json = await response.json();\r\n\t\t// console.log(response_json);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View style={styles.post}>\r\n\t\t\t<View style={styles.leftRightContainer}>\r\n\t\t\t\t<View style={styles.left}>\r\n\t\t\t\t\t<Text style={styles.title}>{title}</Text>\r\n\t\t\t\t\t<Text style={styles.text}>{description}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.right}>\r\n\t\t\t\t\t<Image source={require('./../../../assets/images/cow.jpg')}\r\n\t\t\t\t\t\tstyle={styles.image} />\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t\t<View>\r\n\t\t\t\t<View style={styles.row}>\r\n\t\t\t\t\t<View style={styles.leftRightSmallContainer}>\r\n\t\t\t\t\t\t<Text style={styles.text}>{likes}</Text>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/like.png')}\r\n\t\t\t\t\t\t\tstyle={styles.icon}/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.leftRightSmallContainer}>\r\n\t\t\t\t\t\t<Text style={styles.text}>{dislikes}</Text>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/dislike.png')}\r\n\t\t\t\t\t\t\tstyle={styles.icon}/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t\t{/* <Text style={styles.postTitle}>{title}</Text>\r\n\t\t\t<Text style={styles.postDescription}>{description}</Text>\r\n\t\t\t<View style={styles.bottom}>\r\n\t\t\t\t<View style={styles.bottomItem}>\r\n\t\t\t\t\t<TouchableOpacity onPress={handleLike}>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/likes-icon.png')}\r\n\t\t\t\t\t\t\tstyle={{height: 20, width: 20}}></Image>\r\n\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t<Text style={styles.count}>{likes}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.bottomItem}>\r\n\t\t\t\t\t<TouchableOpacity onPress={handleDislike}>\r\n\t\t\t\t\t\t<Image source={require('./../../../assets/sprites/dislikes-icon.png')}\r\n\t\t\t\t\t\t\tstyle={{height: 20, width: 20}}></Image>\r\n\t\t\t\t\t</TouchableOpacity>\r\n\t\t\t\t\t<Text style={styles.count}>{dislikes}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.bottomItem}></View>\r\n\t\t\t</View> */}\r\n\t\t</View>\r\n\t);\r\n}\r\nexport default Post;\r\nconst styles = StyleSheet.create({\r\n\tpost: {\r\n\t\tborderRadius: 15,\r\n        height: 150,\r\n        margin: 10,\r\n        padding: 10,\r\n        backgroundColor: palette.dark,\r\n    },\r\n\tleftRightContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: \"row\",\r\n\t\tflex: 1,\r\n\t},\r\n\tleft: {\r\n\t\tflex: 1,\r\n\t},\r\n\tright: { \r\n\t\twidth: '30%',\r\n\t},\r\n\timage: {\r\n\t\talignSelf: 'flex-end',\r\n\t\theight: 80,\r\n\t\taspectRatio: 1,\r\n\t\tborderRadius: 8,\r\n\t},\r\n\ttitle: {\r\n\t\tcolor: palette.titlecolor,\r\n\t\tfontSize: 21,\r\n\t\tfontWeight: '900'\r\n\t},\r\n\ttext: {\r\n\t\tcolor: palette.textcolor,\r\n\t\tfontSize: 17,\r\n\t\tfontWeight: '600'\r\n\t},\r\n\trow: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\t// justifyContent: ''\r\n\t},\r\n\tleftRightSmallContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t},\r\n\ticon: {\r\n\t\tmarginLeft: 10,\r\n\t\tmarginRight: 50,\r\n\t\twidth: 20,\r\n\t\taspectRatio: 1,\r\n\t}\r\n\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}