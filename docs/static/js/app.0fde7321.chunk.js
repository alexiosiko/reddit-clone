(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{127:function(e,t,n){e.exports=n(168)},143:function(e,t,n){e.exports=n.p+"static/media/home.6f75f986.png"},144:function(e,t,n){e.exports=n.p+"static/media/explore.1fa79535.png"},145:function(e,t,n){e.exports=n.p+"static/media/create.e259a23d.png"},146:function(e,t,n){e.exports=n.p+"static/media/notifications.6bd36785.png"},147:function(e,t,n){e.exports=n.p+"static/media/settings.f1c5819f.png"},153:function(e,t,n){e.exports=n.p+"static/media/picture.0e8af238.png"},164:function(e,t,n){e.exports=n.p+"static/media/back-arrow.0655c88f.png"},165:function(e,t,n){e.exports=n.p+"static/media/trash.e985b369.png"},166:function(e,t,n){e.exports=n.p+"static/media/comment.93d7227a.png"},168:function(e,t,n){"use strict";n.r(t);var i=n(183),l=n(24),o=n.n(l),r=n(8),c=n(49),s=n(0),a=n(23),d=n(20),u=n(29),f=n(7),j={otherNeutral:"#3f3f3f",neutral:"#0e181f",button:"#c8d0c3",titlecolor:"#FFF",textcolor:"#e0e9f1"},h=(r.default.create({}),n(1)),x=r.default.create({bottom:{position:"absolute",left:0,right:0,bottom:0},container:{flex:1,flexDirection:"row",justifyContent:"space-evenly",backgroundColor:j.neutral,paddingBottom:"ios"==d.default.OS?30:0},button:{padding:10,width:50,height:50},image:{alignSelf:"center",height:"65%",width:"65%"}}),b=function(e){var t=function(t){e.setPage(t)};return Object(h.jsxs)(f.default,{style:[x.container,x.bottom],children:[Object(h.jsx)(u.default,{style:x.button,onPress:function(){return t("home")},children:Object(h.jsx)(a.default,{source:n(143),style:x.image})}),Object(h.jsx)(u.default,{style:x.button,onPress:function(){return t("explore")},children:Object(h.jsx)(a.default,{source:n(144),style:x.image})}),Object(h.jsx)(u.default,{style:x.button,onPress:function(){return t("create")},children:Object(h.jsx)(a.default,{source:n(145),style:x.image})}),Object(h.jsx)(u.default,{style:x.button,onPress:function(){return t("notifications")},children:Object(h.jsx)(a.default,{source:n(146),style:x.image})}),Object(h.jsx)(u.default,{style:x.button,onPress:function(){return t("settings")},children:Object(h.jsx)(a.default,{source:n(147),style:x.image})})]})},g=n(9),p=n.n(g),y=n(70),O=n(59),m=n(18),w=n(36),S=r.default.create({container:{backgroundColor:j.neutral,flex:1},inputContainer:{top:"5%",flex:1,width:"80%",alignSelf:"center",justifyContent:"center"},inputBox:{height:50,backgroundColor:j.light,margin:5,borderRadius:20,color:j.textcolor,padding:10,fontSize:20},showPasswordButton:{height:"100%",width:"100%"},title:{position:"absolute",fontSize:40,fontWeight:"bold",alignSelf:"center",color:j.titlecolor,top:"10%"},button:{height:50,backgroundColor:j.light,margin:5,borderRadius:20,color:j.darker,padding:10,fontSize:20},buttonText:{fontSize:30,alignSelf:"center",color:j.textcolor}}),C=function(e){var t=Object(s.useState)(""),n=o()(t,2),i=n[0],l=n[1],r=Object(s.useState)(""),c=o()(r,2),a=c[0],d=c[1],u=Object(s.useState)(!1),j=o()(u,2);j[0],j[1];function x(){return(x=p()((function*(){var e={username:i,password:a},t=yield fetch("http://127.0.0.1:5000/signup",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),n=yield t.json();console.log(n)}))).apply(this,arguments)}return Object(h.jsx)(f.default,{style:S.container,children:Object(h.jsxs)(f.default,{style:S.inputContainer,children:[Object(h.jsx)(m.default,{style:S.title,children:"Create Account"}),Object(h.jsx)(O.default,{style:S.inputBox,placeholder:"Enter username",onChangeText:function(e){l(e)}}),Object(h.jsx)(O.default,{style:S.inputBox,placeholder:"Enter password",onChangeText:function(e){d(e)}}),Object(h.jsx)(w.default,{onPress:function(){return x.apply(this,arguments)},children:Object(h.jsx)(f.default,{style:S.button,children:Object(h.jsx)(m.default,{style:S.buttonText,children:"Create"})})}),Object(h.jsx)(w.default,{onPress:function(){e.setPage("entry")},children:Object(h.jsx)(m.default,{style:S.buttonText,children:"Home"})})]})})},k=r.default.create({container:{flex:1,backgroundColor:j.otherNeutral},insideContainer:{width:"80%",alignSelf:"center",flex:1,justifyContent:"center"},button:{backgroundColor:j.light,justifyContent:"center",alignItems:"center",margin:5,borderRadius:30,color:j.textcolor,padding:10,fontSize:20},buttonText:{fontSize:40,textAlign:"center"},title:{position:"absolute",fontSize:40,fontWeight:"bold",alignSelf:"center",color:j.textcolor,top:"20%"},text:{color:j.textcolor,alignSelf:"center"}}),v=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(f.default,{style:k.container,children:Object(h.jsxs)(f.default,{style:k.insideContainer,children:[Object(h.jsx)(m.default,{style:k.title,children:"Instagram"}),Object(h.jsx)(u.default,{onPress:function(){e.setPage("signup")},children:Object(h.jsx)(f.default,{style:k.button,children:Object(h.jsx)(m.default,{style:[k.text,k.buttonText],children:"Sign up"})})}),Object(h.jsxs)(f.default,{style:{alignSelf:"center",top:30},children:[Object(h.jsx)(m.default,{style:k.text,children:"Already have an account?"}),Object(h.jsx)(u.default,{onPress:function(){e.setPage("signin")},children:Object(h.jsx)(m.default,{style:k.text,children:"Sign in"})})]})]})})})},P=n(66),R=n(126),T=n(35),I=n(125),z=n(30),A=n(184),F=n(42),B=r.default.create({touchable:{marginLeft:"20%",width:40,aspectRatio:1,borderRadius:10},buttonText:{color:j.textcolor,fontSize:12,textAlign:"center",padding:2},imageBackground:{justifyContent:"center",borderRadius:10,overflow:"hidden",height:"100%",aspectRatio:1}}),E=function(e){var t=e.setImage64,i=Object(s.useState)(null),l=o()(i,2),r=l[0],c=l[1];function d(){return(d=p()((function*(){var e=yield u();if(!e.cancelled){e=yield j(e.uri);var n=yield b(e.uri);t(n),c(e.uri)}}))).apply(this,arguments)}function u(){return f.apply(this,arguments)}function f(){return(f=p()((function*(){return yield R.launchImageLibraryAsync({mediaTypes:T.MediaTypeOptions.Images,allowsEditing:!0,aspect:[4,4],quality:1})}))).apply(this,arguments)}function j(e){return x.apply(this,arguments)}function x(){return(x=p()((function*(e){return yield I.manipulateAsync(e,[{resize:{height:1080,width:1080}}],{compress:1,format:z.SaveFormat.JPEG})}))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=p()((function*(e){return yield A.readAsStringAsync(e,{encoding:F.EncodingType.Base64})}))).apply(this,arguments)}return Object(h.jsx)(w.default,{style:B.touchable,onPress:function(){return d.apply(this,arguments)},children:r?Object(h.jsx)(a.default,{style:B.imageBackground,source:{uri:r}}):Object(h.jsx)(a.default,{style:B.imageBackground,source:n(153)})})};var D=r.default.create({container:{backgroundColor:j.neutral,height:50,justifyContent:"center"},header:{textAlign:"center",fontSize:25,color:j.titlecolor}}),L=function(e){var t=e.header;return Object(h.jsx)(f.default,{style:D.container,children:Object(h.jsx)(m.default,{style:D.header,children:t})})};var V=r.default.create({body:{padding:20},leftRightView:{alignItems:"center",marginLeft:10,flexDirection:"row"},name:{color:j.titlecolor,fontSize:20},username:{color:j.textcolor,fontSize:10},profilePic:{borderRadius:25,width:30,height:30},textInput:{backgroundColor:j.otherNeutral,borderRadius:20,marginTop:10},titleInput:{color:j.titlecolor,padding:20},descritionInput:{color:j.textcolor,padding:20,height:220},button:{marginTop:15,height:30,width:"50%",alignSelf:"center",justifyContent:"center",alignItems:"center",backgroundColor:j.button,borderRadius:20}}),N=function(){var e=Object(s.useState)(""),t=o()(e,2),i=t[0],l=t[1],r=Object(s.useState)(""),c=o()(r,2),d=c[0],x=c[1],b=Object(s.useState)(""),g=o()(b,2),w=g[0],S=g[1],C=Object(s.useState)({}),k=o()(C,2),v=k[0],R=k[1];function T(){return(T=p()((function*(){if(""!=i&&""!=d){R({result:"Uploading post...",color:"yellow"});var e=I();console.log(e),R({result:"Successfully uploaded post!",color:"green"})}else console.warn("Required fields missing...")}))).apply(this,arguments)}function I(){return{title:i,description:d,owner:"owner",image64:w,likes:0,dislikes:0}}return Object(h.jsx)(P.default,{onPress:function(){return y.default.dismiss()},style:{flex:1,backgroundColor:"red"},children:Object(h.jsxs)(f.default,{children:[Object(h.jsx)(L,{header:"Create"}),Object(h.jsxs)(f.default,{style:V.body,children:[Object(h.jsxs)(f.default,{style:V.leftRightView,children:[Object(h.jsx)(a.default,{source:n(95),style:V.profilePic}),Object(h.jsxs)(f.default,{style:{marginLeft:5,justifyContent:"center"},children:[Object(h.jsx)(m.default,{style:V.name,children:"Alexi Ikonomou"}),Object(h.jsx)(m.default,{style:V.username,children:"@alexiosiko"})]}),Object(h.jsx)(E,{setImage64:S})]}),Object(h.jsx)(O.default,{style:[V.titleInput,V.textInput],onChange:function(e){l(e.nativeEvent.text)},placeholder:"Post title",placeholderTextColor:j.titlecolor}),Object(h.jsx)(O.default,{style:[V.descritionInput,V.textInput],onChange:function(e){x(e.nativeEvent.text)},placeholder:"What do you want to talk about?",placeholderTextColor:j.textcolor,multiline:!0,textAlignVertical:"top"}),Object(h.jsx)(u.default,{style:V.button,onPress:function(){return T.apply(this,arguments)},children:Object(h.jsx)(m.default,{children:"Upload Post"})}),Object(h.jsx)(m.default,{style:{color:v.color,textAlign:"center",marginTop:20},children:v.result})]})]})})},H=n(40),J=n(81);function W(e){var t=e.message;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(J.default,{style:{marginTop:"50%"},size:"large"}),Object(h.jsx)(m.default,{style:_.text,children:t})]})}var _=r.default.create({text:{textAlign:"center",margin:20,color:j.textcolor}}),q=n(124);var U=function(e){var t=e.title,i=e.description,l=e.likes,r=e.dislikes,c=(e.postId,e.image64),d=Object(s.useState)(!1),u=o()(d,2);return u[0],u[1],Object(s.useRef)(new q.default.Value(0)).current,Object(h.jsxs)(f.default,{style:G.post,children:[Object(h.jsxs)(f.default,{style:G.leftRightContainer,children:[Object(h.jsxs)(f.default,{style:G.left,children:[Object(h.jsx)(m.default,{style:G.title,children:t}),Object(h.jsx)(m.default,{style:[G.text,{maxHeight:75}],children:i})]}),Object(h.jsx)(f.default,{style:G.right,children:Object(h.jsx)(a.default,{source:{uri:"data:image/jpeg;base64,"+c},style:G.image})})]}),Object(h.jsx)(f.default,{children:Object(h.jsxs)(f.default,{style:G.row,children:[Object(h.jsxs)(f.default,{style:G.leftRightSmallContainer,children:[Object(h.jsx)(m.default,{style:G.text,children:l}),Object(h.jsx)(a.default,{source:n(96),style:G.icon})]}),Object(h.jsxs)(f.default,{style:G.leftRightSmallContainer,children:[Object(h.jsx)(m.default,{style:G.text,children:r}),Object(h.jsx)(a.default,{source:n(97),style:G.icon})]})]})})]})},G=r.default.create({post:{borderRadius:15,height:150,margin:10,padding:10,backgroundColor:j.otherNeutral},leftRightContainer:{display:"flex",flexDirection:"row",flex:1},left:{flex:1},right:{width:"30%"},image:{alignSelf:"flex-end",height:80,aspectRatio:1,borderRadius:8},title:{color:j.titlecolor,fontSize:21,fontWeight:"900"},text:{color:j.textcolor,fontSize:17,fontWeight:"600"},row:{display:"flex",flexDirection:"row"},leftRightSmallContainer:{display:"flex",flexDirection:"row"},icon:{marginLeft:10,marginRight:50,width:20,aspectRatio:1}});var M=function(e){var t=e.setSelectedPost,n=Object(s.useState)([]),i=o()(n,2),l=i[0],r=i[1],c=Object(s.useState)(!0),a=o()(c,2),d=a[0],u=a[1];return Object(s.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),Object(h.jsx)(f.default,{style:{height:"100%"},children:d?Object(h.jsx)(W,{message:"Fetching posts..."}):Object(h.jsxs)(H.default,{children:[l.map((function(e){return Object(h.jsx)(w.default,{onPress:function(){return function(e){t(e)}(e)},children:Object(h.jsx)(U,{title:e.title,description:e.description,postId:e._id,likes:e.likes,dislikes:e.dislikes,image64:e.image64},e._id)},e._id)})),Object(h.jsx)(f.default,{style:{height:100}})]})});function j(){return(j=p()((function*(){try{var e=yield fetch("https://reddit-clone-5ctl.onrender.com/getposts"),t=yield e.json();r(t)}catch(n){console.log("error",n)}finally{u(!1)}}))).apply(this,arguments)}},K=r.default.create({image:{width:"100%",aspectRatio:1,alignSelf:"center",backgroundColor:"black"},title:{color:j.titlecolor,fontSize:20,marginTop:10,marginBottom:20},backArrow:{width:30,height:30},description:{minHeight:300,marginTop:10,fontSize:20,color:j.textcolor},viewRow:{marginTop:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly"},viewRowItem:{marginLeft:10,width:20,height:20},profilePic:{borderRadius:25,width:50,height:50},leftRightView:{flexDirection:"row"},name:{color:j.titlecolor,fontSize:20},username:{color:j.textcolor,fontSize:10}}),Q=function(e){var t=e.selectedPost,i=e.setSelectedPost;function l(){return(l=p()((function*(){var e=yield fetch("https://reddit-clone-5ctl.onrender.com/deletepost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t._id})});console.log(e.ok)}))).apply(this,arguments)}return Object(h.jsxs)(H.default,{children:[Object(h.jsxs)(f.default,{style:K.leftRightView,children:[Object(h.jsx)(w.default,{onPress:function(){i({})},style:{width:50,alignSelf:"center",justifyContent:"center"},children:Object(h.jsx)(a.default,{source:n(164),style:K.backArrow})}),Object(h.jsxs)(f.default,{style:[K.leftRightView,{justifyContent:"center",width:"80%"}],children:[Object(h.jsx)(a.default,{source:n(95),style:K.profilePic}),Object(h.jsxs)(f.default,{style:{marginLeft:5,justifyContent:"center"},children:[Object(h.jsx)(m.default,{style:K.name,children:"Alexi Ikonomou"}),Object(h.jsx)(m.default,{style:K.username,children:"@alexiosiko"})]})]}),Object(h.jsx)(w.default,{onPress:function(){return l.apply(this,arguments)},style:{width:50,alignSelf:"center"},children:Object(h.jsx)(a.default,{source:n(165),style:K.backArrow})})]}),Object(h.jsx)(m.default,{style:K.title,children:t.title}),t.image64&&Object(h.jsx)(a.default,{source:{uri:"data:image/jpeg;base64, "+t.image64},style:K.image}),Object(h.jsxs)(f.default,{style:K.viewRow,children:[Object(h.jsxs)(f.default,{style:K.viewRow,children:[Object(h.jsx)(m.default,{style:{color:j.textcolor},children:t.dislikes}),Object(h.jsx)(a.default,{style:K.viewRowItem,source:n(97)})]}),Object(h.jsxs)(f.default,{style:K.viewRow,children:[Object(h.jsx)(m.default,{style:{color:j.textcolor},children:t.dislikes}),Object(h.jsx)(a.default,{style:K.viewRowItem,source:n(96)})]}),Object(h.jsxs)(f.default,{style:K.viewRow,children:[Object(h.jsx)(m.default,{style:{color:j.textcolor},children:t.comments}),Object(h.jsx)(a.default,{style:K.viewRowItem,source:n(166)})]})]}),Object(h.jsx)(m.default,{style:K.description,children:t.description}),Object(h.jsx)(f.default,{style:{height:100}})]})},X=function(){var e=Object(s.useState)({}),t=o()(e,2),n=t[0],i=t[1],l=Object(s.useState)(!0),r=o()(l,2);r[0],r[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(L,{header:"Home"}),Object(h.jsx)(f.default,{style:{display:0!==Object.keys(n).length?"none":"flex"},children:Object(h.jsx)(M,{setSelectedPost:i})}),0!==Object.keys(n).length&&Object(h.jsx)(Q,{selectedPost:n,setSelectedPost:i})]})},Y=(r.default.create({}),function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(L,{header:"Explore"})})}),Z=(r.default.create({}),function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(L,{header:"Settings"})})}),$=(r.default.create({}),function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(L,{header:"Home"})})});var ee=r.default.create({mainContainer:{flex:1,backgroundColor:j.neutral}});Object(i.default)((function(){var e=Object(s.useState)("create"),t=o()(e,2),n=t[0],i=t[1];return Object(h.jsxs)(c.default,{style:ee.mainContainer,children:["home"===n&&Object(h.jsx)(X,{}),"explore"===n&&Object(h.jsx)(Y,{}),"notifications"===n&&Object(h.jsx)($,{}),"settings"===n&&Object(h.jsx)(Z,{}),"create"===n&&Object(h.jsx)(N,{}),"entry"===n&&Object(h.jsx)(v,{setPage:i}),"signup"===n&&Object(h.jsx)(C,{setPage:i}),"login"!==n&&"signup"!==n&&Object(h.jsx)(b,{setPage:i})]})}))},95:function(e,t,n){e.exports=n.p+"static/media/profile-pic.1906238a.png"},96:function(e,t,n){e.exports=n.p+"static/media/like.247ab11e.png"},97:function(e,t,n){e.exports=n.p+"static/media/dislike.347d96ae.png"}},[[127,1,2]]]);
//# sourceMappingURL=app.0fde7321.chunk.js.map